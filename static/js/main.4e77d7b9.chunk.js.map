{"version":3,"sources":["api/products.ts","features/productsSlice.ts","features/searchSlice.ts","features/favoritesSlice.ts","features/cartSlice.ts","app/store.ts","app/hooks.ts","context/PhoneCatalogContext.tsx","components/Logo/Logo.tsx","utils/navigation.ts","components/Nav/Nav.tsx","components/Icon/Icon.tsx","components/Counter/Counter.tsx","components/Favorites/Favorites.tsx","helpers/calculateCartTotal.ts","components/Cart/Cart.tsx","components/Button/Button.tsx","helpers/searchHelper.ts","types/SectionName.ts","components/Search/Search.tsx","components/Header/Header.tsx","components/BackToTopButton/BackToTopButton.tsx","utils/footerLinks.tsx","components/Footer/Footer.tsx","components/MenuMobile/MenuMobile.tsx","components/Layout/Layout.tsx","utils/bannerImages.ts","components/Banner/Banner.tsx","components/ProductCard/ProductCard.tsx","components/ProductsList/ProductsList.tsx","types/NotificationMessage.ts","components/ProductsSlider/ProductsSlider.tsx","components/Loader/Loader.tsx","utils/categoryLinks.ts","components/ShopByCategory/ShopByCategory.tsx","components/Notification/Notification.tsx","pages/HomePage/HomePage.tsx","components/Breadcrumbs/Breadcrumbs.tsx","helpers/makeTitle.ts","helpers/filterProducts.ts","pages/FavoritesPage/FavoritesPage.tsx","components/BackButton/BackButton.tsx","components/CartItem/CartItem.tsx","pages/CartPage/CartPage.tsx","pages/NotFoundPage/NotFoundPage.tsx","components/Dropdown/Dropdown.tsx","helpers/options.ts","helpers/getLabel.ts","types/ProductCategory.ts","components/Pagination/Pagination.tsx","helpers/getNumbers.ts","pages/ProductsPage/ProductsPage.tsx","helpers/sortProducts.ts","helpers/calculateItemRange.ts","pages/PhonesPage/PhonesPage.tsx","pages/TabletsPage/TabletsPage.tsx","pages/AccessoriesPage/AccessoriesPage.tsx","pages/ProductDetailsPage/ProductDetailsPage.tsx","helpers/getRandomProducts.ts","App.tsx","index.tsx"],"names":["request","url","delay","Promise","resolve","setTimeout","then","fetch","response","ok","Error","json","getProducts","getProductDetails","productId","productsAsync","createAsyncThunk","productsSlice","createSlice","name","initialState","products","isLoading","hasError","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","actions","searchSlice","searchQuery","appliedSearchQuery","isSearchLoading","setSearchQuery","setAppliedSearchQuery","setIsSearchLoading","clearSearchQuery","favorites","JSON","parse","localStorage","getItem","favoritesSlice","addFavoriteProduct","setItem","stringify","push","removeFavoriteProduct","filteredList","filter","product","id","cartItems","cartSlice","addToCart","removeFromCard","addQuantity","find","item","quantity","subtractQuantity","store","configureStore","reducer","productsReducer","search","searchReducer","favoritesReducer","cart","cartReducer","useAppDispatch","useDispatch","useAppSelector","useSelector","PhoneCatalogContext","createContext","windowWidth","window","innerWidth","isMobile","isMenuClicked","setIsMenuClicked","Logo","useContext","to","className","onClick","src","alt","navigation","Nav","map","isActive","classNames","Icon","type","aria-label","Counter","Favorites","navLinkClassName","length","calculateCartTotal","category","reduce","total","price","Cart","Button","dataCy","content","iconType","iconPosition","disabled","data-cy","getSearchWith","currentParams","paramsToUpdate","newParams","URLSearchParams","toString","Object","entries","forEach","key","value","delete","Array","isArray","part","append","set","defaultProps","SectionName","Search","currentPage","isSearchButtonClicked","onSearchButtonClicked","isSearchBoxExpanded","dispatch","useSearchParams","searchParams","setSearchParams","formRef","useRef","useEffect","handleClickOutside","event","current","contains","target","handleEscKey","document","addEventListener","removeEventListener","query","loadingTimeout","clearTimeout","shouldShowDeleteButton","applySearchQuery","useMemo","debounce","ref","onSubmit","preventDefault","placeholder","onChange","Header","useState","isSearchBarVisible","setIsSearchBarVisible","setisSearchButtonClicked","pathname","useLocation","includes","shouldRenderFavoritesAndCart","shouldRenderMobileButton","slice","BackToTopButton","scrollTo","top","behavior","footerLinks","Footer","MenuMobile","body","style","overflowY","Layout","children","setWindowWidth","setIsMobile","handleResize","Provider","flex","bannerImages","Banner","currentIdx","setCurrentIdx","touchStartX","setTouchStartX","handleButtonClick","step","lastIdx","newIdx","timeoutId","transform","transition","onTouchStart","touches","clientX","onTouchEnd","deltaX","changedTouches","image","index","img","ProductCard","sectionTitle","isFavorite","some","isInCart","itemId","fullPrice","screen","capacity","ram","BrandNew","ProductsList","RandomProducts","NotificationMessage","ProductsSlider","title","itemsLength","itemsPerSlide","setItemsPerSlide","calculateMaxEndIndex","useCallback","isLeftButtonDisabled","isRightButtonDisabled","handleTouchStart","handleTouchEnd","touchEndX","Loader","categoryLinks","ShopByCategory","getProductsLength","Notification","message","HomePage","hotPriceProducts","sort","a","b","absoluteAPrice","brandNewProducts","phone","year","FetchError","HotPrice","Breadcrumbs","pathnameSegments","split","segment","breadcrumbs","link","join","toUpperCase","filterProducts","formattedSearchQuery","trim","toLowerCase","normalizedProductName","replace","every","searchTerm","FavoritesPage","filteredProducts","NoMatchingProducts","NoFavoriteItems","BackButton","navigate","useNavigate","CartItem","isQuantityOne","CartPage","isCheckoutClicked","setIsCheckoutClicked","timeout","totalQuantity","FeatureNotImplemented","EmptyCart","NotFoundPage","Dropdown","currentOption","searchName","options","isDropdownClicked","setIsDropdownClicked","dropdownRef","label","sortOptions","itemsPerPageOptions","getLabel","option","selection","undefined","ProductCategory","Pagination","totalPages","isFirstPage","isLastPage","startPage","Math","max","endPage","min","pageNumbers","from","numbers","n","getNumbers","page","aria-disabled","pageNumber","ProductsPage","pageTitle","productsCategory","get","perPage","isAllItems","currentSortOption","currentItemsPerPageOption","sortedProducts","firstProduct","secondProduct","localeCompare","sortProducts","ceil","itemsPerPage","items","startIndex","endIndex","calculateItemRange","shouldHidePagination","PhonesPage","phones","setPhones","setIsLoading","setHasError","getPhonesFromServer","Phones","fetchPhones","TabletsPage","tablets","setTablets","getTabletsFromServer","Tablets","fetchTablets","AccessoriesPage","accessories","setAccessories","getAccessoriesFromServer","Accessories","fetchAccessories","ProductDetailsPage","setProduct","currentImage","setCurrentImage","suggestedProducts","setSuggestedProducts","useParams","fetchProduct","getProductFromServer","scrollY","allProducts","currentProduct","numberOfSuggestions","productsCopy","randomProducts","i","randomIndex","floor","random","selectedProduct","splice","getRandomProducts","images","findProduct","ProductNotFound","colorsAvailable","color","capacityAvailable","priceDiscount","priceRegular","resolution","processor","description","text","info","camera","zoom","cell","cellTechnology","App","element","path","ReactDOM","render","getElementById"],"mappings":"8rBAUA,IAAMA,EAAU,SAAIC,GAClB,OAPmBC,EAOP,EANL,IAAIC,SAAQ,SAAAC,GACjBC,WAAWD,EAASF,OAMnBI,MAAK,kBAAMC,MAVC,0DAUgBN,MAC5BK,MAAK,SAAAE,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,+BAGlB,OAAOF,EAASG,UAdf,IAAcT,GAkBRU,EAAc,kBAA0BZ,EAAQ,mBAChDa,EAAoB,SAC/BC,GAD+B,OAEVd,EAAQ,aAAD,OAAcc,EAAd,WCRjBC,EAAgBC,YAC3B,0BACA,kBAAMJ,OAGFK,EAAgBC,YAAY,CAChCC,KAAM,WACNC,aAbkC,CAClCC,SAAU,GACVC,WAAW,EACXC,UAAU,GAWVC,SAAU,GACVC,cAAe,SAACC,GACdA,EACGC,QAAQZ,EAAca,SAAS,SAACC,GAC/BA,EAAMP,WAAY,KAEnBK,QAAQZ,EAAce,WAAW,SAACD,EAAOE,GACxCF,EAAMR,SAAWU,EAAOC,QACxBH,EAAMP,WAAY,EAClBO,EAAMN,UAAW,KAElBI,QAAQZ,EAAckB,UAAU,SAACJ,GAChCA,EAAMP,WAAY,EAClBO,EAAMN,UAAW,QAMVN,GADYA,EAAZiB,QACAjB,EAAf,SC7BMkB,EAAcjB,YAAY,CAC9BC,KAAM,SACNC,aARgC,CAChCgB,YAAa,GACbC,mBAAoB,GACpBC,iBAAiB,GAMjBd,SAAU,CACRe,eAAgB,SAACV,EAAOE,GACtBF,EAAMO,YAAcL,EAAOC,SAE7BQ,sBAAuB,SAACX,EAAOE,GAC7BF,EAAMQ,mBAAqBN,EAAOC,SAEpCS,mBAAoB,SAACZ,EAAOE,GAC1BF,EAAMS,gBAAkBP,EAAOC,SAEjCU,iBAAkB,SAACb,GACjBA,EAAMO,YAAc,GACpBP,EAAMQ,mBAAqB,OAK1B,EAKHF,EAAYD,QAJdK,EADK,EACLA,eACAC,EAFK,EAELA,sBACAC,EAHK,EAGLA,mBACAC,EAJK,EAILA,iBAEaP,IAAf,Q,QC9BMf,EAA+B,CACnCuB,UAPEC,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,OAU9CC,EAAiB9B,YAAY,CACjCC,KAAM,YACNC,eACAI,SAAU,CACRyB,mBAAoB,SAACpB,EAAOE,GAC1Be,aAAaI,QACX,YACAN,KAAKO,UAAL,sBAAmBtB,EAAMc,WAAzB,CAAoCZ,EAAOC,YAE7CH,EAAMc,UAAUS,KAAKrB,EAAOC,UAE9BqB,sBAAuB,SAACxB,EAAOE,GAC7B,IAAMuB,EACFzB,EAAMc,UAAUY,QAAO,SAAAC,GAAO,OAAIA,EAAQC,KAAO1B,EAAOC,QAAQyB,MAEpEX,aAAaI,QACX,YACAN,KAAKO,UAAUG,IAEjBzB,EAAMc,UAAYW,MAKjB,EAGHN,EAAed,QAFjBe,EADK,EACLA,mBACAI,EAFK,EAELA,sBAEaL,IAAf,QChCM5B,EAA0B,CAC9BsC,UAPEd,KAAKC,MAAMC,aAAaC,QAAQ,SAAW,OAUzCY,EAAYzC,YAAY,CAC5BC,KAAM,OACNC,eACAI,SAAU,CACRoC,UAAW,SAAC/B,EAAOE,GACjBe,aAAaI,QACX,OACAN,KAAKO,UAAL,sBAAmBtB,EAAM6B,WAAzB,CAAoC3B,EAAOC,YAE7CH,EAAM6B,UAAUN,KAAKrB,EAAOC,UAE9B6B,eAAgB,SAAChC,EAAOE,GACtB,IAAMuB,EACFzB,EAAM6B,UAAUH,QAAO,SAAAC,GAAO,OAAIA,EAAQC,KAAO1B,EAAOC,QAAQyB,MAEpEX,aAAaI,QACX,OACAN,KAAKO,UAAUG,IAEjBzB,EAAM6B,UAAYJ,GAEpBQ,YAAa,SAACjC,EAAOE,GACnB,IAAMyB,EAAU3B,EAAM6B,UAAUK,MAAK,SAAAC,GAAI,OAAIA,EAAKP,KAAO1B,EAAOC,WAE5DwB,IACFA,EAAQS,UAAY,EACpBnB,aAAaI,QAAQ,OAAQN,KAAKO,UAAL,YAAmBtB,EAAM6B,eAG1DQ,iBAAkB,SAACrC,EAAOE,GACxB,IAAMyB,EAAU3B,EAAM6B,UAAUK,MAAK,SAAAC,GAAI,OAAIA,EAAKP,KAAO1B,EAAOC,WAE5DwB,IACFA,EAAQS,UAAY,EACpBnB,aAAaI,QAAQ,OAAQN,KAAKO,UAAL,YAAmBtB,EAAM6B,kBAMvD,EAKHC,EAAUzB,QAJZ0B,EADK,EACLA,UACAE,EAFK,EAELA,YACAI,EAHK,EAGLA,iBACAL,EAJK,EAILA,eAEaF,IAAf,QCtDaQ,EAAQC,YAAe,CAClCC,QAAS,CACPhD,SAAUiD,EACVC,OAAQC,EACR7B,UAAW8B,EACXC,KAAMC,K,qBCTGC,EAAiB,kBAAMC,eACvBC,EAAkDC,ICKlDC,EAAsBC,wBAAuC,CACxEC,YAAaC,OAAOC,WACpBC,UAAU,EACVC,eAAe,EACfC,iBAAkB,e,eCPPC,EAAW,WACtB,IAAQD,EAAqBE,qBAAWT,GAAhCO,iBAQR,OACE,cAAC,IAAD,CACEG,GAAG,IACHC,UAAU,OACVC,QAVoB,WAClBL,GACFA,GAAiB,IAKnB,SAKE,qBACEM,IAAI,yBACJC,IAAI,OACJH,UAAU,mB,gBCxBLI,EAAa,CACxB,CACE5E,KAAM,OACNuE,GAAI,KAEN,CACEvE,KAAM,SACNuE,GAAI,WAEN,CACEvE,KAAM,UACNuE,GAAI,YAEN,CACEvE,KAAM,cACNuE,GAAI,iBCRKM,G,MAAU,WACrB,OACE,qBAAKL,UAAU,MAAf,SACE,oBAAIA,UAAU,YAAd,SACGI,EAAWE,KAAI,gBAAG9E,EAAH,EAAGA,KAAMuE,EAAT,EAASA,GAAT,OACd,oBAEEC,UAAU,WAFZ,SAIE,cAAC,IAAD,CACEA,UAAW,gBAAGO,EAAH,EAAGA,SAAH,OAAkBC,IAAW,YAAa,CACnD,oBAAqBD,KAEvBR,GAAIA,EAJN,SAMGvE,KATEA,YCLJiF,G,MAAwB,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACtC,OACE,sBACEV,UAAS,qBAAgBU,GACzBC,aAAA,UAAeD,EAAf,aCJOE,G,MAA2B,SAAC,GAAkB,IAAhBtC,EAAe,EAAfA,SACzC,OACEA,EAAW,EACT,sBAAM0B,UAAU,UAAhB,SACG1B,IAGH,+BCPOuC,EAAgB,WAC3B,MAAuCf,qBAAWT,GAA1CK,EAAR,EAAQA,SAAUE,EAAlB,EAAkBA,iBACV5C,EAAcmC,GAAe,SAAAX,GAAK,OAAIA,EAAMxB,aAA5CA,UAEF8D,EAAoBpB,EAMtB,oBALA,gBAAGa,EAAH,EAAGA,SAAH,OAAyCC,IACzC,qDAAsD,CACpD,8BAA+BD,KAWrC,OACE,eAAC,IAAD,CACER,GAAG,aACHC,UAAWc,EACXb,QAVgB,WACdL,GACFA,GAAiB,IAKnB,UAKE,cAAC,EAAD,CAAMc,KAAK,cACX,cAAC,EAAD,CAASpC,SAAUtB,EAAU+D,aC/BtBC,EAAqB,SAChCjD,EACAkD,GAEA,OAAOlD,EAAUmD,QAAO,SAACC,EAAD,OAAU7C,EAAV,EAAUA,SAAU8C,EAApB,EAAoBA,MAApB,MACT,aAAbH,EACIE,EAAQ7C,EACR6C,EAAQC,EAAQ9C,IACnB,ICDQ+C,EAAW,WACtB,MAAuCvB,qBAAWT,GAA1CK,EAAR,EAAQA,SAAUE,EAAlB,EAAkBA,iBACV7B,EAAcoB,GAAe,SAAAX,GAAK,OAAIA,EAAMO,QAA5ChB,UAEF+C,EAAoBpB,EAOtB,oBANA,gBAAGa,EAAH,EAAGA,SAAH,OAAyCC,IACzC,gDACA,CACE,8BAA+BD,KAWrC,OACE,eAAC,IAAD,CACER,GAAG,QACHC,UAAWc,EACXb,QAVgB,WACdL,GACFA,GAAiB,IAKnB,UAKE,cAAC,EAAD,CAAMc,KAAK,SACX,cAAC,EAAD,CAASpC,SAAU0C,EAAmBjD,EAAW,kB,oBCpB1CuD,I,MAA0B,SAAC,GAQjC,IAPLC,EAOI,EAPJA,OACAvB,EAMI,EANJA,UACAwB,EAKI,EALJA,QAKI,IAJJC,gBAII,MAJO,GAIP,EAHJC,EAGI,EAHJA,aACAC,EAEI,EAFJA,SACA1B,EACI,EADJA,QAEA,OACE,yBACES,KAAK,SACLkB,UAASL,EACTvB,UAAS,yBAAoBA,GAC7B2B,SAAUA,EACV1B,QAASA,EALX,UAOoB,SAAjByB,GAA2BD,GAAY,cAAC,EAAD,CAAMf,KAAMe,IACnDD,EACiB,UAAjBE,GAA4BD,GAAY,cAAC,EAAD,CAAMf,KAAMe,SC9BpD,SAASI,GACdC,EACAC,GAEA,IAAMC,EAAY,IAAIC,gBACpBH,EAAcI,YAkBhB,OAfAC,OAAOC,QAAQL,GACZM,SAAQ,YAAmB,IAAD,mBAAhBC,EAAgB,KAAXC,EAAW,KACX,OAAVA,EACFP,EAAUQ,OAAOF,GACRG,MAAMC,QAAQH,IACvBP,EAAUQ,OAAOF,GAEjBC,EAAMF,SAAQ,SAAAM,GACZX,EAAUY,OAAON,EAAKK,OAGxBX,EAAUa,IAAIP,EAAKC,MAIlBP,EAAUE,WDYnBZ,GAAOwB,aAAe,CACpBvB,OAAQ,KACRC,QAAS,GACTC,SAAU,GACVC,aAAc,OACdC,UAAU,EACV1B,QAAS,c,UE5CC8C,GC4BCC,GAAoB,SAAC,GAK3B,IAJLC,EAII,EAJJA,YACAC,EAGI,EAHJA,sBACAC,EAEI,EAFJA,sBACAC,EACI,EADJA,oBAEMC,EAAWpE,IAEfxC,EACE0C,GAAe,SAAAX,GAAK,OAAIA,EAAMI,UADhCnC,YAEF,EAAwC6G,cAAxC,mBAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAUC,iBAA+B,MAE/CC,qBAAU,WACR,IAAMC,EAAqB,SAACC,GACtBJ,EAAQK,UAAYL,EAAQK,QAAQC,SAASF,EAAMG,SACrDb,GAAsB,IAIpBc,EAAe,SAACJ,GACF,WAAdA,EAAMvB,KAAqBY,GAC7BC,GAAsB,IAO1B,OAHAe,SAASC,iBAAiB,QAASP,GACnCM,SAASC,iBAAiB,UAAWF,GAE9B,WACLC,SAASE,oBAAoB,QAASR,GACtCM,SAASE,oBAAoB,UAAWH,MAEzC,CAACf,IAEJS,qBAAU,WAKR,GAJAH,EACE3B,GAAc0B,EAAc,CAAEc,MAAO5H,GAAe,QAGlDA,EAAa,CACf4G,EAASvG,GAAmB,IAE5B,IAAMwH,EAAiB5J,YAAW,WAChC2I,EAASvG,GAAmB,MAC3B,KAEH,OAAO,WACL0G,EACE3B,GAAc0B,EAAc,CAAEc,MAAO,QAEvCE,aAAaD,IAIjBjB,EAASvG,GAAmB,MAG3B,CAACL,EAAa8G,IAEjBI,qBAAU,WACR,OAAO,WACLN,EAAStG,QAEV,IAEH,IAEMyH,EACF/H,KAAiByG,GAAyBE,GAUxCqB,EAAmBC,mBACvB,kBAAMC,MACJ,SAACN,GAAD,OAAWhB,EAASxG,EAAsBwH,MAfxB,OAkBpB,IAQF,OACE,uBACErE,UAAU,qCACV4E,IAAKnB,EACLoB,SAzBqB,SAAChB,GACxBA,EAAMiB,iBAED1B,GACHD,GAAuBD,IAkBzB,UAKE,uBACExC,KAAK,OACL6B,MAAO9F,EACPuD,UAAWQ,IACT,gBACA,CACE,wBACE0C,IAA0BE,IAGhC2B,YAAW,oBAAe9B,EAAf,OACX+B,SAtBoB,SAACnB,GACzBR,EAASzG,EAAeiH,EAAMG,OAAOzB,QACrCkC,EAAiBZ,EAAMG,OAAOzB,UAuB3BiC,EACC,cAAC,GAAD,CACEjD,OAAO,eACPvB,UAAU,SACVyB,SAAS,SACTxB,QAAS,kBAAMoD,EAAStG,QAG1B,cAAC,GAAD,CACEiD,UAAU,SACVyB,SAAS,SACTxB,QAAS,kBAAMkD,GAAuBD,UCvInC+B,I,MAAa,WACxB,MAIInF,qBAAWT,GAHbK,EADF,EACEA,SACAH,EAFF,EAEEA,YACAK,EAHF,EAGEA,iBAEF,EAAoDsF,oBAAS,GAA7D,mBAAOC,EAAP,KAA2BC,EAA3B,KACA,EAA0DF,oBAAS,GAAnE,mBAAOhC,EAAP,KAA8BmC,EAA9B,KACQC,EAAaC,cAAbD,SAER3B,qBAAU,WAGRyB,EAFqB,CAAC,aAAc,UAAW,WAAY,gBAExBI,SAASF,MAC3C,CAACA,IAEJ3B,qBAAU,WACJpE,EAAc,MAChB8F,GAAyB,KAE1B,CAAC9F,IAEJ,IAAMkG,EACJvC,GAAyB3D,EAAc,OAAS4F,EAE5CO,EACJhG,GAAY+F,EAEd,OACE,wBAAQzF,UAAU,SAAlB,SACE,sBAAKA,UAAU,kBAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,cAAC,EAAD,KAEEN,GAAY,cAAC,EAAD,OAGhB,sBAAKM,UAAU,oBAAf,UACGmF,GACC,cAAC,GAAD,CACElC,YAAaqC,EAASK,MAAM,GAC5BzC,sBAAuBA,EACvBC,sBAAuBkC,EACvBjC,oBAAqB7D,EAAc,OAItCkG,IAAiC/F,GAChC,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,OAIHgG,GACC,cAAC,GAAD,CACE1F,UAAU,cACVyB,SAAS,cACTxB,QAAS,kBAAML,GAAiB,gBCtEjCgG,I,MAAsB,WAKjC,OACE,sBAAK5F,UAAU,cAAf,UACE,sBAAMA,UAAU,oBAAhB,yBAIA,cAAC,GAAD,CACEA,UAAU,cACVyB,SAAS,WACTxB,QAbc,WAClBT,OAAOqG,SAAS,CAAEC,IAAK,EAAGC,SAAU,mBCP3BC,GAAc,CACzB,CACExK,KAAM,SACNuE,GAAI,yCAEN,CACEvE,KAAM,WACNuE,GAAI,KAEN,CACEvE,KAAM,SACNuE,GAAI,MCHKkG,I,MAAmB,WAC9B,OACE,yBAAQjG,UAAU,SAAlB,UACE,cAAC,EAAD,IAEA,oBAAIA,UAAU,eAAd,SACGgG,GAAY1F,KAAI,gBAAG9E,EAAH,EAAGA,KAAMuE,EAAT,EAASA,GAAT,OACf,oBAEEC,UAAU,eAFZ,SAIE,cAAC,IAAD,CACED,GAAIA,EACJC,UAAU,eAFZ,SAIGxE,KAPEA,QAaX,cAAC,GAAD,SCjBO0K,I,MAAuB,WAClC,MAA4CpG,qBAAWT,GAA/CM,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,iBAkBvB,OAhBA+D,qBAAU,WACRO,SAASiC,KAAKC,MAAMC,UAAY1G,EAAgB,SAAW,UAE3D,IAAMsE,EAAe,SAACJ,GACF,WAAdA,EAAMvB,KAAoB3C,GAC5BC,GAAiB,IAMrB,OAFAsE,SAASC,iBAAiB,UAAWF,GAE9B,WACLC,SAASE,oBAAoB,UAAWH,MAEzC,CAACtE,IAGF,sBACEK,UAAWQ,IACT,cACA,CAAE,sBAAuBb,IAH7B,UAME,sBAAKK,UAAU,mBAAf,UACE,cAAC,EAAD,IAEA,cAAC,GAAD,CACEA,UAAU,aACVyB,SAAS,SACTxB,QAAS,kBAAML,GAAiB,SAIpC,sBAAKI,UAAU,uBAAf,UACE,oBAAIA,UAAU,oBAAd,SACGI,EAAWE,KAAI,gBAAG9E,EAAH,EAAGA,KAAMuE,EAAT,EAASA,GAAT,OACd,oBAEEC,UAAU,oBAFZ,SAIE,cAAC,IAAD,CACEA,UAAW,gBAAGO,EAAH,EAAGA,SAAH,OAAkBC,IAAW,oBAAqB,CAC3D,4BAA6BD,KAE/BR,GAAIA,EACJE,QAAS,kBAAML,GAAiB,IALlC,SAOGpE,KAVEA,QAiBX,sBAAKwE,UAAU,qBAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,eC/DGsG,GAAa,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACrBlD,EAAWpE,IACjB,EAAsCiG,mBAAS1F,OAAOC,YAAtD,mBAAOF,EAAP,KAAoBiH,EAApB,KACA,EAA0CtB,oBAAS,GAAnD,mBAAOvF,EAAP,KAAsBC,EAAtB,KACA,EAAgCsF,oBAAS,GAAzC,mBAAOxF,EAAP,KAAiB+G,EAAjB,KA0BA,OAxBA9C,qBAAU,WAEN8C,EADElH,EAAc,OAKjB,CAACA,IAEJoE,qBAAU,WACR,IAAM+C,EAAe,WACnBF,EAAehH,OAAOC,aAKxB,OAFAD,OAAO2E,iBAAiB,SAAUuC,GAE3B,WACLlH,OAAO4E,oBAAoB,SAAUsC,MAEtC,IAEH/C,qBAAU,WACRN,EAASjI,OACR,IAGD,eAACiE,EAAoBsH,SAArB,CAA8BpE,MAAO,CACnChD,cACAG,WACAC,gBACAC,oBAJF,UAOE,cAAC,GAAD,IACA,sBAAMwG,MAAO,CAAEQ,KAAM,GAArB,SACGL,IAEH,cAAC,GAAD,IAEA,cAAC,GAAD,QCpDOM,GAAe,CAC1B,4BACA,6BACA,kCCOWC,I,MAAa,WACxB,MAAoC5B,mBAAS,GAA7C,mBAAO6B,EAAP,KAAmBC,EAAnB,KACA,EAAsC9B,mBAAS,GAA/C,mBAAO+B,EAAP,KAAoBC,EAApB,KAEQxH,EAAaI,qBAAWT,GAAxBK,SAEFyH,EAAoB,SAACC,GACzB,IACMC,EAAUR,GAAa9F,OAAS,EAElCuG,EAASP,EAAaK,EAEtBA,EAAO,IALQ,IAMbL,EACFO,EAASD,EACAC,EARM,IASfA,EATe,IAafF,EAAO,IACLL,IAAeM,EACjBC,EAfe,EAgBNA,EAASD,IAClBC,EAASD,IAIbL,EAAcM,IA0BhB,OARA3D,qBAAU,WACR,IAAM4D,EAAY7M,YAAW,WAC3ByM,EAAkB,KACjB,KAEH,OAAO,kBAAM5C,aAAagD,MACzB,CAACJ,IAGF,sBAAKnH,UAAU,SAAf,WACIN,GACA,cAAC,GAAD,CACEM,UAAU,eACVyB,SAAS,aACTxB,QAAS,kBAAMkH,GAAmB,MAItC,sBAAKnH,UAAU,6BAAf,UACE,qBACEA,UAAU,mBACVoG,MAAO,CACLoB,UAAU,cAAD,OAA8B,KAAbT,EAAjB,MACTU,WAAY,mBAEdC,aAxCiB,SAAC7D,GACxBqD,EAAerD,EAAM8D,QAAQ,GAAGC,UAwC1BC,WArCe,SAAChE,GACtB,IACMiE,EADYjE,EAAMkE,eAAe,GAAGH,QACfX,EAEvBa,EAAS,GACXX,GAAmB,GACVW,GAAU,IACnBX,EAAkB,IAuBhB,SASGN,GAAavG,KAAI,SAAC0H,EAAOC,GAAR,OAChB,qBAEE/H,IAAK8H,EACL7H,IAAG,qBAAgB8H,EAAQ,GAC3BjI,UAAU,eAHLgI,QAQX,qBAAKhI,UAAU,qBAAf,SACG6G,GAAavG,KAAI,SAAC4H,EAAKD,GAAN,OAChB,wBAEEvH,KAAK,SACLC,aAAW,iCACXX,UAAWQ,IAAW,oBAAqB,CACzC,4BAA6BuG,IAAekB,IAE9ChI,QAAS,kBAAM+G,EAAciB,KANxBC,YAYXxI,GACA,cAAC,GAAD,CACEM,UAAU,eACVyB,SAAS,cACTxB,QAAS,kBAAMkH,EAAkB,W,mBThH/BpE,K,sBAAAA,E,4BAAAA,E,oCAAAA,Q,eUmBCoF,GAAyB,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,aAAcvK,EAAc,EAAdA,QAC/CwF,EAAWpE,IACTjC,EAAcmC,GAAe,SAAAjD,GAAK,OAAIA,EAAMc,aAA5CA,UACAe,EAAcoB,GAAe,SAAAjD,GAAK,OAAIA,EAAM6C,QAA5ChB,UAEFsK,EAAa3D,mBAAQ,WACzB,OAAO1H,EAAUsL,MAAK,SAAAjK,GAAI,OAAIA,EAAKP,KAAOD,EAAQC,QACjD,CAACd,IACEuL,EAAW7D,mBAAQ,WACvB,OAAO3G,EAAUuK,MAAK,SAAAjK,GAAI,OAAIA,EAAKP,KAAOD,EAAQC,QACjD,CAACC,IAmBFyK,EASE3K,EATF2K,OACAvH,EAQEpD,EARFoD,SACA+G,EAOEnK,EAPFmK,MACAxM,EAMEqC,EANFrC,KACA4F,EAKEvD,EALFuD,MACAqH,EAIE5K,EAJF4K,UACAC,EAGE7K,EAHF6K,OACAC,EAEE9K,EAFF8K,SACAC,EACE/K,EADF+K,IAGF,OACE,sBAAK5I,UAAU,OAAO4B,UAAQ,iBAA9B,UACE,eAAC,IAAD,CACE7B,GAAE,WAAMkB,EAAN,YAAkBuH,GACpBxI,UAAU,aAFZ,UAIE,qBACEE,IAAG,cAAS8H,GACZ7H,IAAK3E,EACLwE,UAAU,cAEZ,oBAAIA,UAAU,cAAd,SAA6BxE,IAE7B,qBAAKwE,UAAU,cAAf,SACGoI,IAAiBrF,GAAY8F,SAC5B,mBAAG7I,UAAU,sBAAb,oBAAwCyI,KAExC,qCACE,mBAAGzI,UAAU,sBAAb,oBAAwCoB,KACxC,mBAAGpB,UAAU,uBAAb,oBAAyCyI,UAM/C,sBAAKzI,UAAU,wBAAf,UACE,sBAAKA,UAAU,cAAf,UACE,mBAAGA,UAAU,oBAAb,oBACA,mBAAGA,UAAU,oBAAb,SAAkC0I,OAEpC,sBAAK1I,UAAU,cAAf,UACE,mBAAGA,UAAU,oBAAb,sBACA,mBAAGA,UAAU,oBAAb,SAAkC2I,OAEpC,sBAAK3I,UAAU,cAAf,UACE,mBAAGA,UAAU,oBAAb,iBACA,mBAAGA,UAAU,oBAAb,SAAkC4I,aAKxC,sBAAK5I,UAAU,gBAAf,UACE,cAAC,GAAD,CACEwB,QAAS+G,EAAW,gBAAkB,cACtCvI,UAAWQ,IAAW,cAAe,CACnC,8BAA+B+H,IAEjCtI,QAnEqB,WAIzBoD,EAHGkF,EAGMrK,EAAeL,GAFfI,EAAU,6BAAKJ,GAAN,IAAeS,SAAU,SAmEzC,cAAC,GAAD,CACEiD,OAAO,gBACPvB,UAAWQ,IAAW,YAAa,CACjC,4BAA6B6H,IAE/B5G,SAAU4G,EAAa,mBAAqB,YAC5CpI,QAnF0B,WAI9BoD,EAHGgF,EAGM3K,EAAsBG,GAFtBP,EAAmBO,cCxBrBiL,GAA0B,SAAC,GAGjC,IAAD,IAFJV,oBAEI,MAFWrF,GAAYgG,eAEvB,EADJrN,EACI,EADJA,SAEA,OACE,mCACGA,EAAS4E,KAAI,SAAAzC,GAAO,OACnB,cAAC,GAAD,CAEEuK,aAAcA,EACdvK,QAASA,GAFJA,EAAQC,UASvBgL,GAAahG,aAAe,CAC1BsF,aAAcrF,GAAYgG,gB,UC3BhBC,GCoBCC,GAA4B,SAAC,GAAsC,IAApC1C,EAAmC,EAAnCA,SAAU2C,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,YAC3D,EAAoCjE,mBAAS,GAA7C,mBAAO6B,EAAP,KAAmBC,EAAnB,KACA,EAAsC9B,mBAAS,GAA/C,mBAAO+B,EAAP,KAAoBC,EAApB,KACA,EAA0ChC,mBAAS,GAAnD,mBAAOkE,EAAP,KAAsBC,EAAtB,KAEA,EAAkCvJ,qBAAWT,GAArCE,EAAR,EAAQA,YAAaG,EAArB,EAAqBA,SAErBiE,qBAAU,WAEN0F,EADE9J,EAAc,IACC,EACRA,EAAc,KACN,EACRA,EAAc,KACN,EAEA,KAElB,CAACA,IAEJ,IAAM+J,EAAuBC,uBAAY,WACvC,OAAOJ,EAAcC,IACpB,CAACA,EAAeD,IAEbK,EAAuB9E,mBAAQ,kBAAqB,IAAfqC,IAAkB,CAACA,IACxD0C,EAAwB/E,mBAC5B,kBAAMqC,GAAcuC,MACpB,CAACvC,IAGGI,EAAoB,SAACC,GACzB,IACMC,EAAU8B,EAAc,EAE1B7B,EAASP,EAAaK,EAEtBA,EAAO,IALQ,IAMbL,EACFO,EAASD,EACAC,EARM,IASfA,EATe,IAafF,EAAO,IACLL,IAAeM,EACjBC,EAfe,EAgBNA,EAASD,IAClBC,EAASD,IAIbL,EAAcM,IAGVoC,EAAmBH,uBAAY,SAAC1F,GACpCqD,EAAerD,EAAM8D,QAAQ,GAAGC,WAC/B,IAEG+B,EAAiBJ,uBAAY,SAAC1F,GAClC,IAAM+F,EAAY/F,EAAMkE,eAAe,GAAGH,QAEtCX,EAAc2C,EAAY,KAAOH,EACnCtC,EAAkB,GACTyC,EAAY3C,EAAc,KAAOuC,GAC1CrC,GAAmB,KAEpB,CAACsC,EAAuBD,EAAsBrC,IAEjD,OACE,sBAAKnH,UAAU,kBAAf,UAEE,sBAAKA,UAAU,uBAAf,UACE,oBAAIA,UAAU,yBAAd,SAAwCkJ,IACxC,sBAAKlJ,UAAU,2BAAf,UACE,cAAC,GAAD,CACEA,UAAWQ,IAAW,eAAgB,CACpC,iCAAkCgJ,IAEpC/H,SAAU+H,EACN,sBACA,aACJ7H,SAAU6H,EACVvJ,QAAS,kBAAMkH,GAAmB,MAEpC,cAAC,GAAD,CACEnH,UAAWQ,IAAW,eAAgB,CACpC,iCAAkCiJ,IAEpChI,SAAUgI,EACN,uBACA,cACJ9H,SAAU8H,EACVxJ,QAAS,kBAAMkH,EAAkB,YAKvC,qBACEnH,UAAU,4BACVoG,MAAO,CACLoB,UAAU,cAAD,QAAiBT,GAAcrH,EAAW,IAAM,KAAhD,OACT+H,WAAY,mBAEdC,aAAcgC,EACd7B,WAAY8B,EAPd,SASGpD,QC5HIsD,I,MAAa,kBACxB,qBAAK7J,UAAU,SAAf,SACE,qBAAKA,UAAU,wBCLN8J,GAAgB,CAC3B,CACEtO,KAAM,gBACNuE,GAAI,UACJmI,IAAK,+BAEP,CACE1M,KAAM,UACNuE,GAAI,WACJmI,IAAK,gCAEP,CACE1M,KAAM,cACNuE,GAAI,eACJmI,IAAK,qCCNI6B,I,MAAqB,WAChC,IAAQrO,EAAayD,GAAe,SAAAX,GAAK,OAAIA,EAAM9C,YAA3CA,SAEFsO,EAAoBT,uBAAY,SAACtI,GACrC,OAAOvF,EAASkC,QAAO,SAAAC,GAAO,OAAIA,EAAQoD,WAAaA,KAAUF,SAChE,CAACrF,IAEJ,OACE,sBAAKsE,UAAU,mBAAf,UACE,oBAAIA,UAAU,0BAAd,8BAEA,qBACEA,UAAU,oCACV4B,UAAQ,yBAFV,SAIGkI,GAAcxJ,KAAI,gBAAG9E,EAAH,EAAGA,KAAMuE,EAAT,EAASA,GAAImI,EAAb,EAAaA,IAAb,OACjB,sBAEElI,UAAU,yBAFZ,UAIE,eAAC,IAAD,CACED,GAAIA,EACJC,UAAU,yBAFZ,UAIE,qBACEA,UAAS,8FAC4BD,EAAG4F,MAAM,IAFhD,SAIE,qBACEzF,IAAKgI,EACL/H,IAAK3E,EACLwE,UAAS,2EACiBD,EAAG4F,MAAM,QAIvC,oBAAI3F,UAAU,yBAAd,SAAwCxE,OAG1C,mBAAGwE,UAAU,6BAAb,mBACMgK,EAAkBjK,EAAG4F,MAAM,IADjC,eAtBKnK,aCjBJyO,I,MAA0B,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACxC,OACE,qBAAKlK,UAAU,eAAf,SACE,oBAAIA,UAAU,wBAAd,SAAuCkK,S,SLVjClB,K,qDAAAA,E,uCAAAA,E,8CAAAA,E,gDAAAA,E,+BAAAA,E,6EAAAA,Q,eMYCmB,GAAe,WAC1B,MAIIhL,GAAe,SAAAX,GAAK,OAAIA,EAAM9C,YAHhCA,EADF,EACEA,SACAC,EAFF,EAEEA,UACAC,EAHF,EAGEA,SAGIwO,EAAmB1F,mBAAQ,WAC/B,OAAO,YAAIhJ,GAAU2O,MAAK,SAACC,EAAGC,GAC5B,IAAMC,EAAiBF,EAAE7B,UAAY6B,EAAElJ,MAGvC,OAFuBmJ,EAAE9B,UAAY8B,EAAEnJ,MAEfoJ,OAEzB,CAAC9O,IAEE+O,EAAmB/F,mBAAQ,WAC/B,OAAO,YAAIhJ,GAAUkC,QAAO,SAAC8M,GAC3B,OAAOA,EAAMC,KAAO,UAErB,CAACjP,IAEJ,OACE,sBAAKsE,UAAU,YAAf,UACE,yBAASA,UAAU,4BAAnB,SACE,cAAC,GAAD,MAGF,0BAASA,UAAU,gCAAnB,UACGrE,GAAa,cAAC,GAAD,IAEbC,GACI,cAAC,GAAD,CAAcsO,QAASlB,GAAoB4B,cAE9CjP,IAAcC,KAAcwO,EAAiBrJ,QAC7C,cAAC,GAAD,CACEmI,MAAOnG,GAAY8H,SACnB1B,YAAaiB,EAAiBrJ,OAFhC,SAIE,cAAC,GAAD,CACEqH,aAAcrF,GAAY8H,SAC1BnP,SAAU0O,SAMlB,yBAASpK,UAAU,sCAAnB,SACE,cAAC,GAAD,MAGF,0BAASA,UAAU,+BAAnB,UACGrE,GAAa,cAAC,GAAD,IAEbC,GACI,cAAC,GAAD,CAAcsO,QAASlB,GAAoB4B,cAE9CjP,IAAcC,KAAc6O,EAAiB1J,QAC7C,cAAC,GAAD,CACEmI,MAAOnG,GAAY8F,SACnBM,YAAasB,EAAiB1J,OAFhC,SAIE,cAAC,GAAD,CACEqH,aAAcrF,GAAY8F,SAC1BnN,SAAU+O,aCtEXK,I,MAAwB,WACnC,IAEMC,EAFexF,cAAbD,SAE0B0F,MAAM,KACrCpN,QAAO,SAAAqN,GAAO,MAAgB,KAAZA,KAEfC,EAAcH,EAAiBzK,KAAI,SAAC2K,EAAShD,GACjD,ICdsBiB,EDchBiC,EAAOlD,IAAU8C,EAAiBhK,OAAS,EAC7C,KADS,WAELgK,EAAiBpF,MAAM,EAAGsC,EAAQ,GAAGmD,KAAK,MAElD,MAAO,CAAElC,OClBaA,EDkBI+B,ECjB5B/B,EACG8B,MAAM,KACN1K,KAAI,SAAA9E,GAAI,OAAIA,EAAK,GAAG6P,cAAgB7P,EAAKmK,MAAM,MAC/CyF,KAAK,MDc8BD,WAGtC,OACE,qBAAKvJ,UAAQ,cAAc5B,UAAU,cAArC,SACE,qBAAIA,UAAU,oBAAd,UACE,oBAAIA,UAAU,oBAAd,SACE,cAAC,IAAD,CACED,GAAG,IADL,SAGE,cAAC,EAAD,CAAMW,KAAK,aAIdwK,EAAY5K,KAAI,gBAAG4I,EAAH,EAAGA,MAAOiC,EAAV,EAAUA,KAAV,OACf,qBAAInL,UAAU,oBAAd,UACE,cAAC,EAAD,CAAMU,KAAK,yBAEVyK,EACC,cAAC,IAAD,CACEpL,GAAIoL,EACJnL,UAAU,oBAFZ,SAIGkJ,IAGH,mBAAGlJ,UAAU,8CAAb,SACGkJ,MAZgCA,aE/BpCoC,GAAiB,SAC5B5P,EACAe,GAEA,IAAKA,EACH,OAAOf,EAGT,IAAM6P,EAAuB9O,EAAY+O,OAAOC,cAAcT,MAAM,KAEpE,OAAOtP,EAASkC,QAAO,YAAe,IAC9B8N,EAD6B,EAAXlQ,KACWiQ,cAAcE,QAAQ,MAAO,IAEhE,OAAOJ,EACJK,OAAM,SAAAC,GAAU,OAAIH,EAAsBlG,SAASqG,UCL7CC,I,MAAoB,WAC/B,IAoBItK,EApBIxE,EAAcmC,GAAe,SAAAX,GAAK,OAAIA,EAAMxB,aAA5CA,UACR,EAGImC,GAAe,SAAAX,GAAK,OAAIA,EAAMI,UAFhClC,EADF,EACEA,mBACAC,EAFF,EAEEA,gBAGIoP,EAAmBrH,mBAAQ,WAC/B,OAAO4G,GAAetO,EAAWN,KAChC,CAACM,EAAWN,IAoBf,OAHE8E,EAHG7E,EAGO,cAAC,GAAD,IAdHoP,EAAiBhL,OACtB,qBAAKf,UAAU,sBAAf,SACE,cAAC,GAAD,CAActE,SAAUqQ,MAG1B,cAAC,GAAD,CAAc7B,QAASlB,GAAoBgD,qBAa7C,qBAAKhM,UAAU,iBAAf,SACE,0BAASA,UAAU,YAAnB,UACE,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,cAAC,GAAD,MAGF,oBAAIA,UAAU,mBAAd,yBAEG+L,EAAiBhL,SAAWpE,GAC7B,qBAAKqD,UAAU,mBAAf,mBACM+L,EAAiBhL,OADvB,YAC6D,IAA5BgL,EAAiBhL,OAC5C,OACA,cAKR/D,EAAU+D,OAERS,EADF,cAAC,GAAD,CAAc0I,QAASlB,GAAoBiD,yBCxDxCC,GAAuB,WAClC,IAAMC,EAAWC,cAMjB,OACE,cAAC,GAAD,CACE7K,OAAO,aACPvB,UAAU,OACVwB,QAAQ,OACRC,SAAS,aACTxB,QAAS,kBATXkM,GAAU,OCUDE,I,MAA4B,SAAC,GAAiB,IAAfxO,EAAc,EAAdA,QACpCwF,EAAWpE,IAGfnB,EAOED,EAPFC,GACA0K,EAME3K,EANF2K,OACAvH,EAKEpD,EALFoD,SACA3C,EAIET,EAJFS,SACA0J,EAGEnK,EAHFmK,MACAxM,EAEEqC,EAFFrC,KACA4F,EACEvD,EADFuD,MAGIkL,EAAgB5H,mBAAQ,kBAAmB,IAAbpG,IAAgB,CAACA,IAErD,OACE,sBAAK0B,UAAU,WAAf,UACE,cAAC,GAAD,CACEuB,OAAO,mBACPvB,UAAU,SACVyB,SAAS,SACTxB,QAAS,kBAAMoD,EAASnF,EAAeL,OAGzC,eAAC,IAAD,CACEkC,GAAE,WAAMkB,EAAN,YAAkBuH,GACpBxI,UAAU,iBAFZ,UAIE,qBACEE,IAAG,cAAS8H,GACZ7H,IAAK3E,EACLwE,UAAU,kBAEXxE,KAGH,sBAAKwE,UAAU,sBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,cAAC,GAAD,CACEA,UAAWQ,IAAW,oBAAqB,CACzC,sCAAuC8L,IAEzC7K,SAAU6K,EAAgB,iBAAmB,QAC7C3K,SAAU2K,EACVrM,QAAS,kBAAMoD,EAAS9E,EAAiBT,OAE3C,mBAAGkC,UAAU,qBAAb,SAAmC1B,IACnC,cAAC,GAAD,CACE0B,UAAU,eACVyB,SAAS,OACTxB,QAAS,kBAAMoD,EAASlF,EAAYL,UAIxC,mBAAGkC,UAAU,0BAAb,oBAA4CoB,EAAQ9C,aCvD/CiO,I,MAAe,WAC1B,IAAQxO,EAAcoB,GAAe,SAAAX,GAAK,OAAIA,EAAMO,QAA5ChB,UACR,EAAkDmH,oBAAS,GAA3D,mBAAOsH,EAAP,KAA0BC,EAA1B,KAEA9I,qBAAU,WACR,IAAM+I,EAAUhS,YAAW,WACzB+R,GAAqB,KACpB,KAEH,OAAO,kBAAMlI,aAAamI,MACzB,CAACF,IAEJ,IAAMG,EAAgBjI,mBAAQ,WAC5B,OAAO1D,EAAmBjD,EAAW,cAEvC,CAACA,IAED,OACE,qBAAKiC,UAAU,YAAf,SACE,0BAASA,UAAU,OAAnB,UACE,sBAAKA,UAAU,gBAAf,UACE,cAAC,GAAD,IACA,oBAAIA,UAAU,cAAd,qBAGAjC,EAAUgD,OAGV,sBAAKf,UAAU,gBAAf,UACE,qBAAKA,UAAU,cAAf,SACGjC,EAAUuC,KAAI,SAAAjC,GAAI,OACjB,cAAC,GAAD,CAAwBR,QAASQ,GAAlBA,EAAKP,SAIxB,sBAAKkC,UAAU,gBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,qBAAKA,UAAU,qBAAf,oBACOgB,EAAmBjD,EAAW,aAErC,qBACE6D,UAAQ,kBACR5B,UAAU,mBAFZ,6BAIgB2M,EAJhB,+BAKsB,IAAlBA,EAAsB,OAAS,cAIrC,cAAC,GAAD,CACE3M,UAAU,WACVwB,QAAQ,WACRvB,QAAS,kBAAMwM,GAAqB,MAGtC,qBACEzM,UAAWQ,IAAW,gBAAiB,CACrC,yBAA0BgM,IAF9B,SAKE,cAAC,GAAD,CACEtC,QAASlB,GAAoB4D,gCAnCrC,cAAC,GAAD,CAAc1C,QAASlB,GAAoB6D,mBCrCxCC,I,MAAmB,WAC9B,OACE,qBAAK9M,UAAU,iBAAf,SACE,0BAASA,UAAU,uBAAnB,UACE,cAAC,GAAD,IAEA,qBAAKA,UAAU,6BAAf,SACE,qBACEE,IAAI,wBACJC,IAAI,iBACJH,UAAU,uBAId,sBAAKA,UAAU,qBAAf,UACE,oBAAIA,UAAU,mBAAd,mEAIA,cAAC,IAAD,CAAMD,GAAG,IAAIC,UAAU,kBAAvB,4B,mCCLG+M,I,MAAsB,SAAC,GAA4C,IAA1CC,EAAyC,EAAzCA,cAAeC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,QAC/D,EAAkDhI,oBAAS,GAA3D,mBAAOiI,EAAP,KAA0BC,EAA1B,KACA,EAAuB9J,cAAhBC,EAAP,oBACM8J,EAAc3J,iBAA8B,MAyBlD,OAvBAC,qBAAU,WACR,IAAMC,EAAqB,SAACC,GACtBwJ,EAAYvJ,UACPuJ,EAAYvJ,QAAQC,SAASF,EAAMG,SAC1CoJ,GAAqB,IAInBnJ,EAAe,SAACJ,GACF,WAAdA,EAAMvB,KAAoB6K,GAC5BC,GAAqB,IAOzB,OAHAlJ,SAASC,iBAAiB,QAASP,GACnCM,SAASC,iBAAiB,UAAWF,GAE9B,WACLC,SAASE,oBAAoB,QAASR,GACtCM,SAASE,oBAAoB,UAAWH,MAEzC,CAACkJ,IAGF,sBAAKvI,IAAKyI,EAAarN,UAAU,WAAjC,UACE,cAAC,GAAD,CACEA,UAAWQ,IAAW,WAAY,CAChC,yBAA0B2M,IAE5B3L,QAASwL,EACTvL,SAAS,aACTC,aAAa,QACbzB,QAAS,kBAAMmN,GAAsBD,MAEvC,oBACEnN,UAAWQ,IAAW,iBAAkB,CACtC,0BAA2B2M,IAF/B,SAKGD,EAAQ5M,KAAI,gBAAGgN,EAAH,EAAGA,MAAO/K,EAAV,EAAUA,MAAV,OACX,cAAC,IAAD,CAEExC,GAAI,CACFnB,OAAQiD,GAAc0B,EAAD,gBAAkB0J,EAAa1K,KAEtDvC,UAAU,iBACVC,QAAS,kBAAMmN,GAAqB,IANtC,SAQGE,GAPI/K,aC7DJgL,GAA4B,CACvC,CAAED,MAAO,SAAU/K,MAAO,OAC1B,CAAE+K,MAAO,iBAAkB/K,MAAO,QAClC,CAAE+K,MAAO,WAAY/K,MAAO,UAGjBiL,GAAoC,CAC/C,CAAEF,MAAO,IAAK/K,MAAO,KACrB,CAAE+K,MAAO,IAAK/K,MAAO,KACrB,CAAE+K,MAAO,KAAM/K,MAAO,MACtB,CAAE+K,MAAO,MAAO/K,MAAO,QCblB,SAASkL,GACdP,EACA3K,GAEA,IAAMmL,EAASR,EAAQ9O,MAAK,SAAAuP,GAAS,OAAIA,EAAUpL,QAAUA,KAE7D,OAAOmL,EAASA,EAAOJ,WAAQM,E,UCPrBC,GCaCC,GAAwB,SAAC,GAAiC,IAA/B7K,EAA8B,EAA9BA,YAAa8K,EAAiB,EAAjBA,WACnD,EAAuBzK,cAAhBC,EAAP,oBACMyK,EAA+B,KAAhB/K,EACfgL,GAAchL,IAAgB8K,EAEhCG,EAAYC,KAAKC,IAAI,GAAInL,EAAc,GACrCoL,EAAUF,KAAKG,IAAIJ,EAAY,EAAGH,GAEpCM,EAAUH,EAAY,IACxBA,EAAYC,KAAKC,IAAI,EAAGC,EAAU,IAGpC,IAAME,EC1BD,SAAoBC,EAAczO,GAGvC,IAFA,IAAM0O,EAAU,GAEPC,EAAIF,EAAME,GAAK3O,EAAI2O,GAAK,EAC/BD,EAAQhR,KAAKiR,EAAExM,YAGjB,OAAOuM,EDmBaE,CAAWT,EAAWG,GAE1C,OACE,sBAAKzM,UAAQ,aAAa5B,UAAU,aAApC,UACE,cAAC,IAAD,CACE4B,UAAQ,iBACR5B,UAAWQ,IAAW,qBAAsB,CAC1C,+BAAgCwN,IAElCjO,GAAI,CACFnB,OAAQiD,GAAc0B,EAAc,CAAEqL,KAAK,GAAD,QAAM3L,EAAc,MAEhE4L,gBAAeb,EAAc,OAAS,QARxC,SAUE,cAAC,EAAD,CAAMtN,KAAMsN,EAAc,sBAAwB,iBAGpD,qBAAIhO,UAAU,mBAAd,UACGkO,EAAY,GACX,oBAAIlO,UAAU,mBAAd,SACE,cAAC,IAAD,CACEA,UAAU,mBACVD,GAAI,CACFnB,OAAQiD,GAAc0B,EAAc,CAAEqL,KAAM,OAHhD,iBAWHV,EAAY,GACX,oBAAIlO,UAAU,mBAAd,SACE,sBAAMA,UAAU,kBAAhB,mBAIHuO,EAAYjO,KAAI,SAAAwO,GAAU,OACzB,oBAEE9O,UAAU,mBAFZ,SAIE,cAAC,IAAD,CACEA,UAAWQ,IAAW,mBAAoB,CACxC,2BAA4BsO,IAAe7L,IAE7ClD,GAAI,CACFnB,OAAQiD,GAAc0B,EAAc,CAAEqL,KAAME,KALhD,SAQGA,KAXEA,MAgBRT,EAAUN,EAAa,GACtB,oBAAI/N,UAAU,mBAAd,SACE,sBAAMA,UAAU,kBAAhB,mBAIHqO,EAAUN,GACT,oBAAI/N,UAAU,mBAAd,SACE,cAAC,IAAD,CACEA,UAAU,mBACVD,GAAI,CACFnB,OAAQiD,GACN0B,EACA,CAAEqL,KAAMb,EAAW7L,cALzB,SASG6L,SAMT,cAAC,IAAD,CACEnM,UAAQ,kBACR5B,UAAWQ,IAAW,qBAAsB,CAC1C,+BAAgCyN,IAElClO,GAAI,CACFnB,OAAQiD,GAAc0B,EAAc,CAAEqL,KAAK,GAAD,QAAM3L,EAAc,MAEhE4L,gBAAeZ,EAAa,OAAS,QARvC,SAUE,cAAC,EAAD,CAAMvN,KAAMuN,EAAa,uBAAyB,sBEnF7Cc,I,MAA0B,SAAC,GAMjC,IAyDDvN,EA9DJ9F,EAKI,EALJA,SACAE,EAII,EAJJA,SACAD,EAGI,EAHJA,UACAqT,EAEI,EAFJA,UACAC,EACI,EADJA,iBAEA,EAAwC3L,cAAxC,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAGIrE,GAAe,SAAAX,GAAK,OAAIA,EAAMI,UAFhClC,EADF,EACEA,mBACAC,EAFF,EAEEA,gBAGI0N,EAAO9G,EAAa2L,IAAI,SAAW,GACnCN,EAAOrL,EAAa2L,IAAI,SAAW,IACnCC,EAAU5L,EAAa2L,IAAI,YAAc,KAEzCE,EAAa1K,mBAAQ,iBAAkB,QAAZyK,IAAmB,CAACA,IAE/CE,EAAoB3K,mBAAQ,kBAAM+I,GAASF,GAAalD,KAAO,CAACA,KACnE,gBAEGiF,EAA4B5K,mBAChC,kBAAM+I,GAASD,GAAqB2B,KACpC,CAACA,KAEAA,EAEGI,EAAiB7K,mBACrB,kBC1DwB,SAC1BhJ,EACA2O,GAEA,OAAIA,EACK,YAAI3O,GAAU2O,MAAK,SAACmF,EAAcC,GACvC,OAAQpF,GACN,IAAK,MACH,OAAOoF,EAAc9E,KAAO6E,EAAa7E,KAC3C,IAAK,OACH,OAAO6E,EAAahU,KAAKkU,cAAcD,EAAcjU,MACvD,IAAK,QACH,OAAOgU,EAAapO,MAAQqO,EAAcrO,MAE5C,QACE,OAAO,MAKR1F,EDsCCiU,CAAajU,EAAU2O,KAC7B,CAAC3O,EAAU2O,IAGP0B,EAAmBrH,mBAAQ,WAC/B,OAAO4G,GAAeiE,EAAgB7S,KACrC,CAAC6S,EAAgB7S,IAEdqR,EAAarJ,mBACjB,kBAAMyJ,KAAKyB,KAAK7D,EAAiBhL,QAAUoO,KAC3C,CAACpD,EAAiBhL,OAAQoO,IAGtBU,EAAenL,mBAAQ,WAC3B,OAAO0K,EACHrD,EEzE0B,SAChC9I,EACA4M,EACAC,GAEA,IAAMC,IAAe9M,EAAc,IAAM4M,EACnCG,EAAW7B,KAAKG,IAAIyB,IAAcF,EAAcC,EAAM/O,QAE5D,OAAO+O,EAAMnK,MAAMoK,EAAYC,GFkEzBC,CAAmBrB,EAAMO,EAASpD,KACrC,CAAC6C,EAAMO,EAASpD,IAEbmE,EAAuBxL,mBAC3B,kBAAMqH,EAAiBhL,OAAS,IAChC,CAACgL,IA6BH,OAXEvK,EAHG7E,EAGO,cAAC,GAAD,IAdHoP,EAAiBhL,OACtB,qBAAKf,UAAU,iBAAf,SACE,cAAC,GAAD,CAActE,SAAUmU,MAG1B,cAAC,GAAD,CAAc3F,QAASlB,GAAoBgD,qBAY/CrI,qBAAU,WACRH,EACE3B,GAAc0B,EAAc2M,EACxB,CAAEtB,KAAM,KAAMO,QAAS,MACvB,CAAEP,KAAM,IAAKO,eAElB,CAACA,EAASe,IAGX,qBAAKlQ,UAAU,gBAAf,SACE,0BAASA,UAAU,WAAnB,UACE,sBAAKA,UAAU,oBAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,cAAC,GAAD,MAGF,oBAAIA,UAAU,kBAAd,SAAiCgP,MAE9BjD,EAAiBhL,SAAWpE,GAC7B,qCACE,qBAAKqD,UAAU,kBAAf,mBACM+L,EAAiBhL,OADvB,YAC6D,IAA5BgL,EAAiBhL,OAAe,OAAS,WAG1E,sBAAKf,UAAU,2BAAf,UACE,sBACEA,UAAU,iEADZ,UAIE,mBAAGA,UAAU,+BAAb,qBAGA,cAAC,GAAD,CACEgN,cAAeqC,EACfpC,WAAW,OACXC,QAASK,SAIX2C,GACA,sBACElQ,UAAU,wEADZ,UAIE,mBAAGA,UAAU,+BAAb,2BAGA,cAAC,GAAD,CACEgN,cAAesC,EACfrC,WAAW,UACXC,QAASM,iBAStB7R,GAAa,cAAC,GAAD,IAEbC,GACI,cAAC,GAAD,CAAcsO,QAASlB,GAAoB4B,cAE9CjP,IAAcC,KAAcF,EAASqF,QACrCS,GAGA9F,EAASqF,SAAWpF,IAAcC,GAC/B,cAAC,GAAD,CAAcsO,QAAO,oBAAe+E,EAAf,+BAExBiB,KACEnE,EAAiBhL,SAAWpE,IAAoByS,GAChD,cAAC,GAAD,CACEnM,YAAa2L,EACbb,WAAYA,Y,SHhLdF,K,gBAAAA,E,kBAAAA,E,2BAAAA,Q,KMOL,IAAMsC,GAAiB,WAC5B,MAA4BjL,mBAAoB,IAAhD,mBAAOkL,EAAP,KAAeC,EAAf,KACA,EAAkCnL,oBAAS,GAA3C,mBAAOvJ,EAAP,KAAkB2U,EAAlB,KACA,EAAgCpL,oBAAS,GAAzC,mBAAOtJ,EAAP,KAAiB2U,EAAjB,KAqBA,OAnBA5M,qBAAU,YACS,yCAAG,6BAAA2G,EAAA,6DAClBgG,GAAa,GADK,kBAImBrV,IAJnB,OAIVuV,EAJU,OAKb5S,QAAO,SAAAC,GAAO,OAAIA,EAAQoD,WAAa4M,GAAgB4C,UAE1DJ,EAAUG,GAPM,gDAShBD,GAAY,GATI,yBAWhBD,GAAa,GAXG,4EAAH,qDAejBI,KACC,IAGD,yBAAS1Q,UAAU,cAAnB,SACE,cAAC,GAAD,CACEtE,SAAU0U,EACVxU,SAAUA,EACVD,UAAWA,EACXqT,UAAU,gBACVC,iBAAkBpB,GAAgB4C,YC/B7BE,GAAkB,WAC7B,MAA8BzL,mBAAoB,IAAlD,mBAAO0L,EAAP,KAAgBC,EAAhB,KACA,EAAkC3L,oBAAS,GAA3C,mBAAOvJ,EAAP,KAAkB2U,EAAlB,KACA,EAAgCpL,oBAAS,GAAzC,mBAAOtJ,EAAP,KAAiB2U,EAAjB,KAqBA,OAnBA5M,qBAAU,YACU,yCAAG,6BAAA2G,EAAA,6DACnBgG,GAAa,GADM,kBAImBrV,IAJnB,OAIX6V,EAJW,OAKdlT,QAAO,SAAAC,GAAO,OAAIA,EAAQoD,WAAa4M,GAAgBkD,WAE1DF,EAAWC,GAPM,gDASjBP,GAAY,GATK,yBAWjBD,GAAa,GAXI,4EAAH,qDAelBU,KACC,IAGD,yBAAShR,UAAU,eAAnB,SACE,cAAC,GAAD,CACEtE,SAAUkV,EACVhV,SAAUA,EACVD,UAAWA,EACXqT,UAAU,UACVC,iBAAkBpB,GAAgBkD,aC/B7BE,GAAsB,WACjC,MAAsC/L,mBAAoB,IAA1D,mBAAOgM,EAAP,KAAoBC,EAApB,KACA,EAAkCjM,oBAAS,GAA3C,mBAAOvJ,EAAP,KAAkB2U,EAAlB,KACA,EAAgCpL,oBAAS,GAAzC,mBAAOtJ,EAAP,KAAiB2U,EAAjB,KAqBA,OAnBA5M,qBAAU,YACc,yCAAG,6BAAA2G,EAAA,6DACvBgG,GAAa,GADU,kBAImBrV,IAJnB,OAIfmW,EAJe,OAKlBxT,QAAO,SAAAC,GAAO,OAAIA,EAAQoD,WAAa4M,GAAgBwD,eAE1DF,EAAeC,GAPM,gDASrBb,GAAY,GATS,yBAWrBD,GAAa,GAXQ,4EAAH,qDAetBgB,KACC,IAGD,yBAAStR,UAAU,mBAAnB,SACE,cAAC,GAAD,CACEtE,SAAUwV,EACVtV,SAAUA,EACVD,UAAWA,EACXqT,UAAU,cACVC,iBAAkBpB,GAAgBwD,iBCb7BE,I,MAAyB,WACpC,IAAMlO,EAAWpE,IACTvD,EAAayD,GAAe,SAAAX,GAAK,OAAIA,EAAM9C,YAA3CA,SACAsB,EAAcmC,GAAe,SAAAjD,GAAK,OAAIA,EAAMc,aAA5CA,UACAe,EAAcoB,GAAe,SAAAjD,GAAK,OAAIA,EAAM6C,QAA5ChB,UACR,EAA8BmH,qBAA9B,mBAAOrH,EAAP,KAAgB2T,EAAhB,KACA,EAAkCtM,oBAAS,GAA3C,mBAAOvJ,EAAP,KAAkB2U,EAAlB,KACA,EAAgCpL,oBAAS,GAAzC,mBAAOtJ,EAAP,KAAiB2U,EAAjB,KACA,EAAwCrL,mBAAS,IAAjD,mBAAOuM,EAAP,KAAqBC,EAArB,KACA,EAAkDxM,mBAAoB,IAAtE,mBAAOyM,EAAP,KAA0BC,EAA1B,KACA,EAA2BC,cAAnB1W,iBAAR,MAAoB,GAApB,EACQmK,EAAaC,cAAbD,SAER3B,qBAAU,WACR2M,GAAa,KACZ,IAEH3M,qBAAU,WACR,IAAMmO,EAAY,yCAAG,6BAAAxH,EAAA,6DACnBiG,GAAY,GADO,kBAIkBrV,EAAkBC,GAJpC,OAIX4W,EAJW,OAMjBP,EAAWO,GANM,gDAQjBxB,GAAY,GARK,yBAUjBD,GAAa,GAVI,4EAAH,qDAcd9Q,OAAOwS,QAAU,KACnBxS,OAAOqG,SAAS,CAAEC,IAAK,EAAGC,SAAU,WAGtC+L,MACC,CAAC3W,IAEJwI,qBAAU,WACJjI,EAASqF,QAAUlD,GACrB+T,ECjE2B,SAC/BK,EACAC,EACAC,GAMA,IAJA,IAAMC,EAAeH,EAClBrU,QAAO,SAAAC,GAAO,OAAIA,EAAQ2K,SAAW0J,EAAepU,MACjDuU,EAAiB,GAEdC,EAAI,EAAGA,EAAIH,EAAqBG,GAAK,EAAG,CAC/C,IAAMC,EAAcpE,KAAKqE,MAAMrE,KAAKsE,SAAWL,EAAarR,QACtD2R,EAAkBN,EAAaO,OAAOJ,EAAa,GAAG,GAE5DF,EAAe5U,KAAKiV,GAGtB,OAAOL,EDiDkBO,CAAkBlX,EAAUmC,EAAS,MAE3D,CAACnC,EAAUmC,IAEd8F,qBAAU,WACJ9F,GACF6T,EAAgB7T,EAAQgV,OAAO,MAEhC,CAAChV,IAEJ,IAAMiV,EAAcpO,mBAAQ,WAC1B,OAAOhJ,EAAS0C,MAAK,SAAAC,GAAI,OAAIA,EAAKmK,SAAWrN,OAC5C,CAACO,EAAUP,IAERkN,EAAa3D,mBAAQ,WACzB,OAAO1H,EAAUsL,MAAK,SAAAjK,GAAI,OAAIA,EAAKmK,SAAWrN,OAC7C,CAAC6B,EAAW7B,IACToN,EAAW7D,mBAAQ,WACvB,OAAO3G,EAAUuK,MAAK,SAAAjK,GAAI,OAAIA,EAAKmK,SAAWrN,OAC7C,CAAC4C,EAAW5C,IAsBf,OACE,qBAAK6E,UAAU,eAAf,SACE,0BAASA,UAAU,UAAnB,UACGrE,IAAcC,GAAY,cAAC,GAAD,KAEzBD,IAAcC,IAAaiC,IAC3B,cAAC,GAAD,CAAcqM,QAASlB,GAAoB+J,mBAG3CpX,IAAcC,GAAYiC,GAC1B,qCACE,qBAAKmC,UAAU,eAAf,SACE,cAAC,GAAD,MAEF,qBAAKA,UAAU,uBAAf,SACE,cAAC,GAAD,MAEF,oBAAIA,UAAU,iBAAd,SACGnC,EAAQrC,OAGX,sBAAKwE,UAAU,wBAAf,UACE,sBAAKA,UAAU,4BAAf,UACE,oBAAIA,UAAU,uBAAd,SACGnC,EAAQgV,OAAOvS,KAAI,SAAA4H,GAAG,OACrB,wBAEExH,KAAK,SACLV,UAAWQ,IAAW,yBAA0B,CAC9C,iCAAkC0H,IAAQuJ,IAE5CxR,QAAS,kBAAMyR,EAAgBxJ,IANjC,SAQE,qBACEhI,IAAG,cAASgI,GACZ/H,IAAI,cACJH,UAAU,sCAVPkI,QAeX,qBAAKlI,UAAU,oBAAf,SACE,qBACEE,IAAG,cAASuR,GACZtR,IAAI,mBACJH,UAAU,sBAKhB,sBAAKA,UAAU,+BAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,mBAAGA,UAAU,2BAAb,8BACA,oBAAIA,UAAU,uBAAd,SACGnC,EAAQmV,gBAAgB1S,KAAI,SAAA2S,GAAK,OAChC,cAAC,IAAD,CAEElT,GAAIuF,EAASqG,QAAQ9N,EAAQoV,MAAOA,GACpCjT,UAAWQ,IAAW,sBAAuB,CAC3C,8BACGyS,IAAUpV,EAAQoV,QALzB,SAQE,sBACEjT,UAAS,uDAAkDiT,MARxDA,WAeb,sBAAKjT,UAAU,oBAAf,UACE,mBAAGA,UAAU,2BAAb,6BACA,oBAAIA,UAAU,yBAAd,SACGnC,EAAQqV,kBAAkB5S,KAAI,SAAAqI,GAAQ,OACrC,cAAC,IAAD,CAEE5I,GAAIuF,EACDqG,QACC9N,EAAQ8K,SAAS8C,cACjB9C,EAAS8C,eAEbzL,UAAWQ,IAAW,yBAA0B,CAC9C,iCACEmI,EAAS8C,gBACH5N,EAAQ8K,SAAS8C,gBAV7B,SAaG9C,GAZIA,cAmBf,sBAAK3I,UAAU,qCAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,oBAAIA,UAAU,yBAAd,oBAA4CnC,EAAQsV,iBACpD,mBAAGnT,UAAU,0BAAb,oBAA4CnC,EAAQuV,mBAGtD,sBAAKpT,UAAU,mBAAf,UACE,cAAC,GAAD,CACEwB,QAAS+G,EAAW,gBAAkB,cACtCvI,UAAWQ,IACT,yCACA,CACE,8BAA+B+H,IAGnCtI,QAzHS,WACvB6S,GAIAzP,EAHGkF,EAGMrK,EAAe4U,GAFf7U,EAAU,6BAAK6U,GAAN,IAAmBxU,SAAU,SAwHnC,cAAC,GAAD,CACEiD,OAAO,gBACPvB,UAAWQ,IACT,qCACA,CACE,4BAA6B6H,IAGjC5G,SAAU4G,EAAa,mBAAqB,YAC5CpI,QA9Ic,WAC5B6S,GAIAzP,EAHGgF,EAGM3K,EAAsBoV,GAFtBxV,EAAmBwV,aAgJpB,sBAAK9S,UAAU,2BAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,mBAAGA,UAAU,uBAAb,oBACA,mBAAGA,UAAU,uBAAb,SAAqCnC,EAAQ6K,YAE/C,sBAAK1I,UAAU,iBAAf,UACE,mBAAGA,UAAU,uBAAb,uBACA,mBAAGA,UAAU,uBAAb,SAAqCnC,EAAQwV,gBAE/C,sBAAKrT,UAAU,iBAAf,UACE,mBAAGA,UAAU,uBAAb,uBACA,mBAAGA,UAAU,uBAAb,SAAqCnC,EAAQyV,eAE/C,sBAAKtT,UAAU,iBAAf,UACE,mBAAGA,UAAU,uBAAb,iBACA,mBAAGA,UAAU,uBAAb,SAAqCnC,EAAQ+K,eAKnD,mBAAG5I,UAAU,cAAb,8BAAmC8S,QAAnC,IAAmCA,OAAnC,EAAmCA,EAAahV,SAGlD,sBAAKkC,UAAU,gBAAf,UACE,sBAAK4B,UAAQ,qBAAqB5B,UAAU,iBAA5C,UACE,oBAAIA,UAAU,oBAAd,mBAGCnC,EAAQ0V,YAAYjT,KAAI,gBAAG4I,EAAH,EAAGA,MAAOsK,EAAV,EAAUA,KAAV,OACvB,0BAEExT,UAAU,mBAFZ,UAIE,oBAAIA,UAAU,yBAAd,SAAwCkJ,IACvCsK,EAAKlT,KAAI,SAAAmT,GAAI,OACZ,mBAAczT,UAAU,wBAAxB,SAAiDyT,GAAzCA,QALLvK,SAWX,sBAAKlJ,UAAU,sBAAf,UACE,oBAAIA,UAAU,oBAAd,wBAGA,sBAAKA,UAAU,gCAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,mBAAGA,UAAU,4BAAb,oBACA,mBAAGA,UAAU,4BAAb,SACGnC,EAAQ6K,YAGb,sBAAK1I,UAAU,iBAAf,UACE,mBAAGA,UAAU,4BAAb,uBACA,mBAAGA,UAAU,4BAAb,SACGnC,EAAQwV,gBAGb,sBAAKrT,UAAU,iBAAf,UACE,mBAAGA,UAAU,4BAAb,uBACA,mBAAGA,UAAU,4BAAb,SACGnC,EAAQyV,eAGb,sBAAKtT,UAAU,iBAAf,UACE,mBAAGA,UAAU,4BAAb,iBACA,mBAAGA,UAAU,4BAAb,SACGnC,EAAQ+K,SAGb,sBAAK5I,UAAU,iBAAf,UACE,mBAAGA,UAAU,4BAAb,6BACA,mBAAGA,UAAU,4BAAb,SACGnC,EAAQ8K,cAGb,sBAAK3I,UAAU,iBAAf,UACE,mBAAGA,UAAU,4BAAb,oBACA,mBAAGA,UAAU,4BAAb,SACGnC,EAAQ6V,YAGb,sBAAK1T,UAAU,iBAAf,UACE,mBAAGA,UAAU,4BAAb,kBACA,mBAAGA,UAAU,4BAAb,SACGnC,EAAQ8V,UAGb,sBAAK3T,UAAU,iBAAf,UACE,mBAAGA,UAAU,4BAAb,kBACA,mBAAGA,UAAU,4BAAb,SACGnC,EAAQ+V,KAAKtT,KAAI,SAAAuT,GAAc,gBAAOA,EAAP,uBAOxClY,IAAcC,KAAc+V,EAAkB5Q,QAC9C,cAAC,GAAD,CACEmI,MAAOnG,GAAYgG,eACnBI,YAAawI,EAAkB5Q,OAFjC,SAIE,cAAC,GAAD,CACEqH,aAAcrF,GAAYgG,eAC1BrN,SAAUiW,gBExSbmC,I,MA7BO,WACpB,OACE,qBAAK9T,UAAU,MAAf,SACE,cAAC,GAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOiI,OAAK,EAAC8L,QAAS,cAAC,GAAD,MACtB,cAAC,IAAD,CAAOC,KAAK,OAAOD,QAAS,cAAC,IAAD,CAAUhU,GAAG,IAAI4L,SAAO,MAEpD,eAAC,IAAD,CAAOqI,KAAK,SAAZ,UACE,cAAC,IAAD,CAAO/L,OAAK,EAAC8L,QAAS,cAAC,GAAD,MACtB,cAAC,IAAD,CAAOC,KAAK,aAAaD,QAAS,cAAC,GAAD,SAEpC,cAAC,IAAD,CAAOC,KAAK,UAAUD,QAAS,cAAC,GAAD,IAA/B,SACE,cAAC,IAAD,CAAOC,KAAK,aAAaD,QAAS,cAAC,GAAD,QAEpC,cAAC,IAAD,CAAOC,KAAK,cAAcD,QAAS,cAAC,GAAD,IAAnC,SACE,cAAC,IAAD,CAAOC,KAAK,aAAaD,QAAS,cAAC,GAAD,QAGpC,cAAC,IAAD,CAAOC,KAAK,YAAYD,QAAS,cAAC,GAAD,MACjC,cAAC,IAAD,CAAOC,KAAK,OAAOD,QAAS,cAAC,GAAD,MAE5B,cAAC,IAAD,CAAOC,KAAK,IAAID,QAAS,cAAC,GAAD,eC7BnCE,IAASC,OACP,cAAC,IAAD,UACE,cAAC,IAAD,CAAU1V,MAAOA,EAAjB,SACE,cAAC,GAAD,QAGJ0F,SAASiQ,eAAe,Y","file":"static/js/main.4e77d7b9.chunk.js","sourcesContent":["import { Product } from '../types/Product';\n\nconst BASE_URL = 'https://mate-academy.github.io/react_phone-catalog/_new';\n\nexport function wait(delay: number) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nconst request = <T>(url: string): Promise<T> => {\n  return wait(0)\n    .then(() => fetch(BASE_URL + url))\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      return response.json();\n    });\n};\n\nexport const getProducts = (): Promise<Product[]> => request('/products.json');\nexport const getProductDetails = (\n  productId: string,\n): Promise<Product> => request(`/products/${productId}.json`);\n","/* eslint-disable no-param-reassign */\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { Product } from '../types/Product';\nimport { getProducts } from '../api/products';\n\ntype ProductsState = {\n  products: Product[];\n  isLoading: boolean;\n  hasError: boolean;\n};\n\nconst initialState: ProductsState = {\n  products: [],\n  isLoading: false,\n  hasError: false,\n};\n\nexport const productsAsync = createAsyncThunk(\n  'products/fetchProducts',\n  () => getProducts(),\n);\n\nconst productsSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(productsAsync.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(productsAsync.fulfilled, (state, action) => {\n        state.products = action.payload;\n        state.isLoading = false;\n        state.hasError = false;\n      })\n      .addCase(productsAsync.rejected, (state) => {\n        state.isLoading = false;\n        state.hasError = true;\n      });\n  },\n});\n\nexport const { actions } = productsSlice;\nexport default productsSlice.reducer;\n","/* eslint-disable no-param-reassign */\nimport { PayloadAction, createSlice } from '@reduxjs/toolkit';\n\ntype SearchSlice = {\n  searchQuery: string;\n  appliedSearchQuery: string;\n  isSearchLoading: boolean,\n};\n\nconst initialState: SearchSlice = {\n  searchQuery: '',\n  appliedSearchQuery: '',\n  isSearchLoading: false,\n};\n\nconst searchSlice = createSlice({\n  name: 'search',\n  initialState,\n  reducers: {\n    setSearchQuery: (state, action: PayloadAction<string>) => {\n      state.searchQuery = action.payload;\n    },\n    setAppliedSearchQuery: (state, action: PayloadAction<string>) => {\n      state.appliedSearchQuery = action.payload;\n    },\n    setIsSearchLoading: (state, action: PayloadAction<boolean>) => {\n      state.isSearchLoading = action.payload;\n    },\n    clearSearchQuery: (state) => {\n      state.searchQuery = '';\n      state.appliedSearchQuery = '';\n    },\n  },\n});\n\nexport const {\n  setSearchQuery,\n  setAppliedSearchQuery,\n  setIsSearchLoading,\n  clearSearchQuery,\n} = searchSlice.actions;\nexport default searchSlice.reducer;\n","/* eslint-disable no-param-reassign */\nimport { PayloadAction, createSlice } from '@reduxjs/toolkit';\nimport { Product } from '../types/Product';\n\nconst favoriteProducts\n  = JSON.parse(localStorage.getItem('favorites') || '[]');\n\ntype FavoritesState = {\n  favorites: Product[];\n};\n\nconst initialState: FavoritesState = {\n  favorites: favoriteProducts,\n};\n\nconst favoritesSlice = createSlice({\n  name: 'favorites',\n  initialState,\n  reducers: {\n    addFavoriteProduct: (state, action: PayloadAction<Product>) => {\n      localStorage.setItem(\n        'favorites',\n        JSON.stringify([...state.favorites, action.payload]),\n      );\n      state.favorites.push(action.payload);\n    },\n    removeFavoriteProduct: (state, action: PayloadAction<Product>) => {\n      const filteredList\n        = state.favorites.filter(product => product.id !== action.payload.id);\n\n      localStorage.setItem(\n        'favorites',\n        JSON.stringify(filteredList),\n      );\n      state.favorites = filteredList;\n    },\n  },\n});\n\nexport const {\n  addFavoriteProduct,\n  removeFavoriteProduct,\n} = favoritesSlice.actions;\nexport default favoritesSlice.reducer;\n","/* eslint-disable no-param-reassign */\nimport { PayloadAction, createSlice } from '@reduxjs/toolkit';\nimport { Product } from '../types/Product';\n\nconst cartItems\n  = JSON.parse(localStorage.getItem('cart') || '[]');\n\ntype CartState = {\n  cartItems: Product[];\n};\n\nconst initialState: CartState = {\n  cartItems,\n};\n\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    addToCart: (state, action: PayloadAction<Product>) => {\n      localStorage.setItem(\n        'cart',\n        JSON.stringify([...state.cartItems, action.payload]),\n      );\n      state.cartItems.push(action.payload);\n    },\n    removeFromCard: (state, action: PayloadAction<Product>) => {\n      const filteredList\n        = state.cartItems.filter(product => product.id !== action.payload.id);\n\n      localStorage.setItem(\n        'cart',\n        JSON.stringify(filteredList),\n      );\n      state.cartItems = filteredList;\n    },\n    addQuantity: (state, action: PayloadAction<string>) => {\n      const product = state.cartItems.find(item => item.id === action.payload);\n\n      if (product) {\n        product.quantity += 1;\n        localStorage.setItem('cart', JSON.stringify([...state.cartItems]));\n      }\n    },\n    subtractQuantity: (state, action: PayloadAction<string>) => {\n      const product = state.cartItems.find(item => item.id === action.payload);\n\n      if (product) {\n        product.quantity -= 1;\n        localStorage.setItem('cart', JSON.stringify([...state.cartItems]));\n      }\n    },\n  },\n});\n\nexport const {\n  addToCart,\n  addQuantity,\n  subtractQuantity,\n  removeFromCard,\n} = cartSlice.actions;\nexport default cartSlice.reducer;\n","// eslint-disable-next-line import/no-cycle\nimport { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport productsReducer from '../features/productsSlice';\nimport searchReducer from '../features/searchSlice';\nimport favoritesReducer from '../features/favoritesSlice';\nimport cartReducer from '../features/cartSlice';\n\nexport const store = configureStore({\n  reducer: {\n    products: productsReducer,\n    search: searchReducer,\n    favorites: favoritesReducer,\n    cart: cartReducer,\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\n\n/* eslint-disable @typescript-eslint/indent */\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n/* eslint-enable @typescript-eslint/indent */\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { createContext } from 'react';\n\ninterface PhoneCatalogContextType {\n  windowWidth: number;\n  isMobile: boolean;\n  isMenuClicked: boolean;\n  setIsMenuClicked: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport const PhoneCatalogContext = createContext<PhoneCatalogContextType>({\n  windowWidth: window.innerWidth,\n  isMobile: false,\n  isMenuClicked: false,\n  setIsMenuClicked: () => {},\n});\n","import React, { FC, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { PhoneCatalogContext } from '../../context/PhoneCatalogContext';\n\nimport './Logo.scss';\n\nexport const Logo: FC = () => {\n  const { setIsMenuClicked } = useContext(PhoneCatalogContext);\n\n  const handleLogoClick = () => {\n    if (setIsMenuClicked) {\n      setIsMenuClicked(false);\n    }\n  };\n\n  return (\n    <Link\n      to=\"/\"\n      className=\"logo\"\n      onClick={handleLogoClick}\n    >\n      <img\n        src=\"new/img/icons/logo.svg\"\n        alt=\"Logo\"\n        className=\"logo__image\"\n      />\n    </Link>\n  );\n};\n","export const navigation = [\n  {\n    name: 'Home',\n    to: '/',\n  },\n  {\n    name: 'Phones',\n    to: '/phones',\n  },\n  {\n    name: 'Tablets',\n    to: '/tablets',\n  },\n  {\n    name: 'Accessories',\n    to: '/accessories',\n  },\n];\n","import React, { FC } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { navigation } from '../../utils/navigation';\n\nimport './Nav.scss';\n\nexport const Nav: FC = () => {\n  return (\n    <nav className=\"nav\">\n      <ul className=\"nav__list\">\n        {navigation.map(({ name, to }) => (\n          <li\n            key={name}\n            className=\"nav_item\"\n          >\n            <NavLink\n              className={({ isActive }) => classNames('nav__link', {\n                'nav__link--active': isActive,\n              })}\n              to={to}\n            >\n              {name}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n","import React from 'react';\n\nimport './Icon.scss';\n\ntype Props = {\n  type: string,\n};\n\nexport const Icon: React.FC<Props> = ({ type }) => {\n  return (\n    <span\n      className={`icon icon--${type}`}\n      aria-label={`${type} icon`}\n    />\n  );\n};\n","import React from 'react';\n\nimport './Counter.scss';\n\ntype Props = {\n  quantity: number;\n};\n\nexport const Counter: React.FC<Props> = ({ quantity }) => {\n  return (\n    quantity > 0 ? (\n      <span className=\"counter\">\n        {quantity}\n      </span>\n    ) : (\n      <></>\n    )\n  );\n};\n","import React, { FC, useContext } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { Icon } from '../Icon/Icon';\nimport { useAppSelector } from '../../app/hooks';\nimport { Counter } from '../Counter/Counter';\nimport { PhoneCatalogContext } from '../../context/PhoneCatalogContext';\n\nexport const Favorites: FC = () => {\n  const { isMobile, setIsMenuClicked } = useContext(PhoneCatalogContext);\n  const { favorites } = useAppSelector(store => store.favorites);\n\n  const navLinkClassName = !isMobile\n    ? ({ isActive }: { isActive: boolean }) => classNames(\n      'header__top-actions header__top-actions--favorites', {\n        'header__top-actions--active': isActive,\n      },\n    )\n    : 'menu-mobile__icon';\n\n  const handleClick = () => {\n    if (setIsMenuClicked) {\n      setIsMenuClicked(false);\n    }\n  };\n\n  return (\n    <NavLink\n      to=\"/favorites\"\n      className={navLinkClassName}\n      onClick={handleClick}\n    >\n      <Icon type=\"favorites\" />\n      <Counter quantity={favorites.length} />\n    </NavLink>\n  );\n};\n","import { Product } from '../types/Product';\n\nexport const calculateCartTotal = (\n  cartItems: Product[],\n  category: 'quantity' | 'amount',\n) => {\n  return cartItems.reduce((total, { quantity, price }) => (\n    category === 'quantity'\n      ? total + quantity\n      : total + price * quantity\n  ), 0);\n};\n","import React, { FC, useContext } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { Icon } from '../Icon/Icon';\nimport { Counter } from '../Counter/Counter';\nimport { useAppSelector } from '../../app/hooks';\nimport { PhoneCatalogContext } from '../../context/PhoneCatalogContext';\nimport { calculateCartTotal } from '../../helpers/calculateCartTotal';\n\nexport const Cart: FC = () => {\n  const { isMobile, setIsMenuClicked } = useContext(PhoneCatalogContext);\n  const { cartItems } = useAppSelector(store => store.cart);\n\n  const navLinkClassName = !isMobile\n    ? ({ isActive }: { isActive: boolean }) => classNames(\n      'header__top-actions header__top-actions--cart',\n      {\n        'header__top-actions--active': isActive,\n      },\n    )\n    : 'menu-mobile__icon';\n\n  const handleClick = () => {\n    if (setIsMenuClicked) {\n      setIsMenuClicked(false);\n    }\n  };\n\n  return (\n    <NavLink\n      to=\"/cart\"\n      className={navLinkClassName}\n      onClick={handleClick}\n    >\n      <Icon type=\"cart\" />\n      <Counter quantity={calculateCartTotal(cartItems, 'quantity')} />\n    </NavLink>\n  );\n};\n","import React from 'react';\nimport { Icon } from '../Icon/Icon';\n\nimport './Button.scss';\n\ntype Props = {\n  dataCy?: string | null;\n  className: string;\n  content?: string;\n  iconType?: string;\n  iconPosition?: 'left' | 'right';\n  disabled?: boolean;\n  onClick?: () => void;\n};\n\nexport const Button: React.FC<Props> = ({\n  dataCy,\n  className,\n  content,\n  iconType = '',\n  iconPosition,\n  disabled,\n  onClick,\n}) => {\n  return (\n    <button\n      type=\"button\"\n      data-cy={dataCy}\n      className={`button button--${className}`}\n      disabled={disabled}\n      onClick={onClick}\n    >\n      {iconPosition === 'left' && iconType && <Icon type={iconType} />}\n      {content}\n      {iconPosition === 'right' && iconType && <Icon type={iconType} />}\n    </button>\n  );\n};\n\nButton.defaultProps = {\n  dataCy: null,\n  content: '',\n  iconType: '',\n  iconPosition: 'left',\n  disabled: false,\n  onClick: () => {},\n};\n","export type SearchParams = {\n  [key: string]: string | string[] | null,\n};\n\nexport function getSearchWith(\n  currentParams: URLSearchParams,\n  paramsToUpdate: SearchParams,\n): string {\n  const newParams = new URLSearchParams(\n    currentParams.toString(),\n  );\n\n  Object.entries(paramsToUpdate)\n    .forEach(([key, value]) => {\n      if (value === null) {\n        newParams.delete(key);\n      } else if (Array.isArray(value)) {\n        newParams.delete(key);\n\n        value.forEach(part => {\n          newParams.append(key, part);\n        });\n      } else {\n        newParams.set(key, value);\n      }\n    });\n\n  return newParams.toString();\n}\n","// eslint-disable-next-line no-shadow\nexport enum SectionName {\n  HotPrice = 'Hot prices',\n  BrandNew = 'Brand new models',\n  RandomProducts = 'You may also like',\n}\n","import React, {\n  ChangeEvent,\n  FC,\n  useEffect,\n  useMemo,\n  useRef,\n} from 'react';\nimport classNames from 'classnames';\nimport debounce from 'lodash.debounce';\nimport { useSearchParams } from 'react-router-dom';\nimport { Button } from '../Button/Button';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport {\n  clearSearchQuery,\n  setAppliedSearchQuery,\n  setIsSearchLoading,\n  setSearchQuery,\n} from '../../features/searchSlice';\nimport { getSearchWith } from '../../helpers/searchHelper';\n\nimport './Search.scss';\n\ntype Props = {\n  currentPage: string;\n  isSearchButtonClicked: boolean;\n  onSearchButtonClicked: (isSearchButtonClicked: boolean) => void;\n  isSearchBoxExpanded: boolean;\n};\n\nexport const Search: FC<Props> = ({\n  currentPage,\n  isSearchButtonClicked,\n  onSearchButtonClicked,\n  isSearchBoxExpanded,\n}) => {\n  const dispatch = useAppDispatch();\n  const {\n    searchQuery,\n  } = useAppSelector(store => store.search);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const formRef = useRef<HTMLFormElement | null>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (formRef.current && !formRef.current.contains(event.target as Node)) {\n        onSearchButtonClicked(true);\n      }\n    };\n\n    const handleEscKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && !isSearchButtonClicked) {\n        onSearchButtonClicked(true);\n      }\n    };\n\n    document.addEventListener('click', handleClickOutside);\n    document.addEventListener('keydown', handleEscKey);\n\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n      document.removeEventListener('keydown', handleEscKey);\n    };\n  }, [isSearchButtonClicked]);\n\n  useEffect(() => {\n    setSearchParams(\n      getSearchWith(searchParams, { query: searchQuery || null }),\n    );\n\n    if (searchQuery) {\n      dispatch(setIsSearchLoading(true));\n\n      const loadingTimeout = setTimeout(() => {\n        dispatch(setIsSearchLoading(false));\n      }, 499);\n\n      return () => {\n        setSearchParams(\n          getSearchWith(searchParams, { query: null }),\n        );\n        clearTimeout(loadingTimeout);\n      };\n    }\n\n    dispatch(setIsSearchLoading(false));\n\n    return undefined;\n  }, [searchQuery, searchParams]);\n\n  useEffect(() => {\n    return () => {\n      dispatch(clearSearchQuery());\n    };\n  }, []);\n\n  const debounceDelay = 500;\n\n  const shouldShowDeleteButton\n    = searchQuery && (!isSearchButtonClicked || isSearchBoxExpanded);\n\n  const handleFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    if (!isSearchBoxExpanded) {\n      onSearchButtonClicked(!isSearchButtonClicked);\n    }\n  };\n\n  const applySearchQuery = useMemo(\n    () => debounce(\n      (query) => dispatch(setAppliedSearchQuery(query)),\n      debounceDelay,\n    ),\n    [],\n  );\n\n  const handleInputChange = (event: ChangeEvent<HTMLInputElement>) => {\n    dispatch(setSearchQuery(event.target.value));\n    applySearchQuery(event.target.value);\n  };\n\n  return (\n    <form\n      className=\"search header__top-actions--search\"\n      ref={formRef}\n      onSubmit={handleFormSubmit}\n    >\n      <input\n        type=\"text\"\n        value={searchQuery}\n        className={classNames(\n          'search__input',\n          {\n            'search__input--hidden':\n              isSearchButtonClicked && !isSearchBoxExpanded,\n          },\n        )}\n        placeholder={`Search in ${currentPage}...`}\n        onChange={handleInputChange}\n      />\n\n      {shouldShowDeleteButton ? (\n        <Button\n          dataCy=\"searchDelete\"\n          className=\"remove\"\n          iconType=\"remove\"\n          onClick={() => dispatch(clearSearchQuery())}\n        />\n      ) : (\n        <Button\n          className=\"search\"\n          iconType=\"search\"\n          onClick={() => onSearchButtonClicked(!isSearchButtonClicked)}\n        />\n      )}\n    </form>\n  );\n};\n","import React, {\n  FC,\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Logo } from '../Logo/Logo';\nimport { Nav } from '../Nav/Nav';\nimport { Favorites } from '../Favorites/Favorites';\nimport { Cart } from '../Cart/Cart';\nimport { Search } from '../Search/Search';\nimport { Button } from '../Button/Button';\nimport { PhoneCatalogContext } from '../../context/PhoneCatalogContext';\n\nimport './Header.scss';\n\nexport const Header: FC = () => {\n  const {\n    isMobile,\n    windowWidth,\n    setIsMenuClicked,\n  } = useContext(PhoneCatalogContext);\n  const [isSearchBarVisible, setIsSearchBarVisible] = useState(false);\n  const [isSearchButtonClicked, setisSearchButtonClicked] = useState(false);\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    const visiblePages = ['/favorites', '/phones', '/tablets', '/accessories'];\n\n    setIsSearchBarVisible(visiblePages.includes(pathname));\n  }, [pathname]);\n\n  useEffect(() => {\n    if (windowWidth < 1024) {\n      setisSearchButtonClicked(true);\n    }\n  }, [windowWidth]);\n\n  const shouldRenderFavoritesAndCart\n  = isSearchButtonClicked || windowWidth > 1023 || !isSearchBarVisible;\n\n  const shouldRenderMobileButton\n  = isMobile && shouldRenderFavoritesAndCart;\n\n  return (\n    <header className=\"header\">\n      <div className=\"header__content\">\n        <div className=\"header__left-bar\">\n          <Logo />\n\n          {!isMobile && <Nav />}\n        </div>\n\n        <div className=\"header__right-bar\">\n          {isSearchBarVisible && (\n            <Search\n              currentPage={pathname.slice(1)}\n              isSearchButtonClicked={isSearchButtonClicked}\n              onSearchButtonClicked={setisSearchButtonClicked}\n              isSearchBoxExpanded={windowWidth > 1023}\n            />\n          )}\n\n          {shouldRenderFavoritesAndCart && !isMobile && (\n            <>\n              <Favorites />\n              <Cart />\n            </>\n          )}\n\n          {shouldRenderMobileButton && (\n            <Button\n              className=\"burger-menu\"\n              iconType=\"burger-menu\"\n              onClick={() => setIsMenuClicked(true)}\n            />\n          )}\n        </div>\n      </div>\n    </header>\n  );\n};\n","import React, { FC } from 'react';\nimport { Button } from '../Button/Button';\n\nimport './BackToTopButton.scss';\n\nexport const BackToTopButton: FC = () => {\n  const scrollToTop = () => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  return (\n    <div className=\"back-to-top\">\n      <span className=\"back-to-top__text\">\n        Back to top\n      </span>\n\n      <Button\n        className=\"back-to-top\"\n        iconType=\"arrow-up\"\n        onClick={scrollToTop}\n      />\n    </div>\n  );\n};\n","export const footerLinks = [\n  {\n    name: 'Github',\n    to: 'https://github.com/andrii-kovalskyi02',\n  },\n  {\n    name: 'Contacts',\n    to: '/',\n  },\n  {\n    name: 'Rights',\n    to: '/',\n  },\n];\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Logo } from '../Logo/Logo';\nimport { BackToTopButton } from '../BackToTopButton/BackToTopButton';\nimport { footerLinks } from '../../utils/footerLinks';\n\nimport './Footer.scss';\n\nexport const Footer: React.FC = () => {\n  return (\n    <footer className=\"footer\">\n      <Logo />\n\n      <ul className=\"footer__list\">\n        {footerLinks.map(({ name, to }) => (\n          <li\n            key={name}\n            className=\"footer__item\"\n          >\n            <Link\n              to={to}\n              className=\"footer__link\"\n            >\n              {name}\n            </Link>\n          </li>\n        ))}\n      </ul>\n\n      <BackToTopButton />\n    </footer>\n  );\n};\n","import React, { useEffect, useContext } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { navigation } from '../../utils/navigation';\nimport { Logo } from '../Logo/Logo';\nimport { Button } from '../Button/Button';\nimport { Favorites } from '../Favorites/Favorites';\nimport { Cart } from '../Cart/Cart';\nimport { PhoneCatalogContext } from '../../context/PhoneCatalogContext';\n\nimport './MenuMobile.scss';\n\nexport const MenuMobile: React.FC = () => {\n  const { isMenuClicked, setIsMenuClicked } = useContext(PhoneCatalogContext);\n\n  useEffect(() => {\n    document.body.style.overflowY = isMenuClicked ? 'hidden' : 'visible';\n\n    const handleEscKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isMenuClicked) {\n        setIsMenuClicked(false);\n      }\n    };\n\n    document.addEventListener('keydown', handleEscKey);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscKey);\n    };\n  }, [isMenuClicked]);\n\n  return (\n    <nav\n      className={classNames(\n        'menu-mobile',\n        { 'menu-mobile--opened': isMenuClicked },\n      )}\n    >\n      <div className=\"menu-mobile__top\">\n        <Logo />\n\n        <Button\n          className=\"close-menu\"\n          iconType=\"remove\"\n          onClick={() => setIsMenuClicked(false)}\n        />\n      </div>\n\n      <div className=\"menu-mobile__content\">\n        <ul className=\"menu-mobile__list\">\n          {navigation.map(({ name, to }) => (\n            <li\n              key={name}\n              className=\"menu-mobile__item\"\n            >\n              <NavLink\n                className={({ isActive }) => classNames('menu-mobile__link', {\n                  'menu-mobile__link--active': isActive,\n                })}\n                to={to}\n                onClick={() => setIsMenuClicked(false)}\n              >\n                {name}\n              </NavLink>\n            </li>\n          ))}\n\n        </ul>\n\n        <div className=\"menu-mobile__icons\">\n          <Favorites />\n          <Cart />\n        </div>\n      </div>\n    </nav>\n  );\n};\n","import React, { FC, useEffect, useState } from 'react';\nimport { useAppDispatch } from '../../app/hooks';\nimport { Header } from '../Header/Header';\nimport { Footer } from '../Footer/Footer';\nimport { PhoneCatalogContext } from '../../context/PhoneCatalogContext';\nimport { MenuMobile } from '../MenuMobile/MenuMobile';\nimport { productsAsync } from '../../features/productsSlice';\n\nexport const Layout: FC = ({ children }) => {\n  const dispatch = useAppDispatch();\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  const [isMenuClicked, setIsMenuClicked] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  useEffect(() => {\n    if (windowWidth < 768) {\n      setIsMobile(true);\n    } else {\n      setIsMobile(false);\n    }\n  }, [windowWidth]);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowWidth(window.innerWidth);\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  useEffect(() => {\n    dispatch(productsAsync());\n  }, []);\n\n  return (\n    <PhoneCatalogContext.Provider value={{\n      windowWidth,\n      isMobile,\n      isMenuClicked,\n      setIsMenuClicked,\n    }}\n    >\n      <Header />\n      <main style={{ flex: 1 }}>\n        {children}\n      </main>\n      <Footer />\n\n      <MenuMobile />\n    </PhoneCatalogContext.Provider>\n  );\n};\n","export const bannerImages = [\n  'new/img/banner-phones.png',\n  'new/img/banner-tablets.png',\n  'new/img/banner-accessories.png',\n];\n","import React, {\n  FC, TouchEvent, useContext, useEffect, useState,\n} from 'react';\nimport classNames from 'classnames';\nimport { PhoneCatalogContext } from '../../context/PhoneCatalogContext';\nimport { bannerImages } from '../../utils/bannerImages';\nimport { Button } from '../Button/Button';\n\nimport './Banner.scss';\n\nexport const Banner: FC = () => {\n  const [currentIdx, setCurrentIdx] = useState(0);\n  const [touchStartX, setTouchStartX] = useState(0);\n\n  const { isMobile } = useContext(PhoneCatalogContext);\n\n  const handleButtonClick = (step: number) => {\n    const initialIdx = 0;\n    const lastIdx = bannerImages.length - 1;\n\n    let newIdx = currentIdx + step;\n\n    if (step < 0) {\n      if (currentIdx === initialIdx) {\n        newIdx = lastIdx;\n      } else if (newIdx < initialIdx) {\n        newIdx = initialIdx;\n      }\n    }\n\n    if (step > 0) {\n      if (currentIdx === lastIdx) {\n        newIdx = initialIdx;\n      } else if (newIdx > lastIdx) {\n        newIdx = lastIdx;\n      }\n    }\n\n    setCurrentIdx(newIdx);\n  };\n\n  const handleTouchStart = (event: TouchEvent) => {\n    setTouchStartX(event.touches[0].clientX);\n  };\n\n  const handleTouchEnd = (event: TouchEvent) => {\n    const touchEndX = event.changedTouches[0].clientX;\n    const deltaX = touchEndX - touchStartX;\n\n    if (deltaX > 50) {\n      handleButtonClick(-1);\n    } else if (deltaX < -50) {\n      handleButtonClick(1);\n    }\n  };\n\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      handleButtonClick(1);\n    }, 5000);\n\n    return () => clearTimeout(timeoutId);\n  }, [handleButtonClick]);\n\n  return (\n    <div className=\"banner\">\n      {!isMobile && (\n        <Button\n          className=\"banner-arrow\"\n          iconType=\"arrow-left\"\n          onClick={() => handleButtonClick(-1)}\n        />\n      )}\n\n      <div className=\"banner__carousel-container\">\n        <div\n          className=\"banner__carousel\"\n          style={{\n            transform: `translateX(${-currentIdx * 100}%)`,\n            transition: 'transform 800ms',\n          }}\n          onTouchStart={handleTouchStart}\n          onTouchEnd={handleTouchEnd}\n        >\n          {bannerImages.map((image, index) => (\n            <img\n              key={image}\n              src={image}\n              alt={`Banner img ${index + 1}`}\n              className=\"banner__img\"\n            />\n          ))}\n        </div>\n\n        <div className=\"banner__indicators\">\n          {bannerImages.map((img, index) => (\n            <button\n              key={img}\n              type=\"button\"\n              aria-label=\"Current banner image indicator\"\n              className={classNames('banner__indicator', {\n                'banner__indicator--active': currentIdx === index,\n              })}\n              onClick={() => setCurrentIdx(index)}\n            />\n          ))}\n        </div>\n      </div>\n\n      {!isMobile && (\n        <Button\n          className=\"banner-arrow\"\n          iconType=\"arrow-right\"\n          onClick={() => handleButtonClick(1)}\n        />\n      )}\n    </div>\n  );\n};\n","import React, { FC, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { Button } from '../Button/Button';\nimport { Product } from '../../types/Product';\nimport { SectionName } from '../../types/SectionName';\nimport { addToCart, removeFromCard } from '../../features/cartSlice';\nimport {\n  addFavoriteProduct,\n  removeFavoriteProduct,\n} from '../../features/favoritesSlice';\n\nimport './ProductCard.scss';\n\ntype Props = {\n  sectionTitle: SectionName;\n  product: Product;\n};\n\nexport const ProductCard: FC<Props> = ({ sectionTitle, product }) => {\n  const dispatch = useAppDispatch();\n  const { favorites } = useAppSelector(state => state.favorites);\n  const { cartItems } = useAppSelector(state => state.cart);\n\n  const isFavorite = useMemo(() => {\n    return favorites.some(item => item.id === product.id);\n  }, [favorites]);\n  const isInCart = useMemo(() => {\n    return cartItems.some(item => item.id === product.id);\n  }, [cartItems]);\n\n  const handleAddToFavoritesClick = () => {\n    if (!isFavorite) {\n      dispatch(addFavoriteProduct(product));\n    } else {\n      dispatch(removeFavoriteProduct(product));\n    }\n  };\n\n  const handleAddToCartClick = () => {\n    if (!isInCart) {\n      dispatch(addToCart({ ...product, quantity: 1 }));\n    } else {\n      dispatch(removeFromCard(product));\n    }\n  };\n\n  const {\n    itemId,\n    category,\n    image,\n    name,\n    price,\n    fullPrice,\n    screen,\n    capacity,\n    ram,\n  } = product;\n\n  return (\n    <div className=\"card\" data-cy=\"cardsContainer\">\n      <Link\n        to={`/${category}/${itemId}`}\n        className=\"card__link\"\n      >\n        <img\n          src={`new/${image}`}\n          alt={name}\n          className=\"card__img\"\n        />\n        <h2 className=\"card__title\">{name}</h2>\n\n        <div className=\"card__price\">\n          {sectionTitle === SectionName.BrandNew ? (\n            <p className=\"card__price-regular\">{`$${fullPrice}`}</p>\n          ) : (\n            <>\n              <p className=\"card__price-regular\">{`$${price}`}</p>\n              <p className=\"card__price-discount\">{`$${fullPrice}`}</p>\n            </>\n          )}\n\n        </div>\n\n        <div className=\"card__specs-container\">\n          <div className=\"card__specs\">\n            <p className=\"card__specs-title\">Screen</p>\n            <p className=\"card__specs-value\">{screen}</p>\n          </div>\n          <div className=\"card__specs\">\n            <p className=\"card__specs-title\">Capacity</p>\n            <p className=\"card__specs-value\">{capacity}</p>\n          </div>\n          <div className=\"card__specs\">\n            <p className=\"card__specs-title\">RAM</p>\n            <p className=\"card__specs-value\">{ram}</p>\n          </div>\n        </div>\n      </Link>\n\n      <div className=\"card__buttons\">\n        <Button\n          content={isInCart ? 'Added to cart' : 'Add to cart'}\n          className={classNames('add-to-cart', {\n            'button--add-to-cart--active': isInCart,\n          })}\n          onClick={handleAddToCartClick}\n        />\n        <Button\n          dataCy=\"addToFavorite\"\n          className={classNames('favorites', {\n            'button--favorites--active': isFavorite,\n          })}\n          iconType={isFavorite ? 'favorites-filled' : 'favorites'}\n          onClick={handleAddToFavoritesClick}\n        />\n      </div>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { ProductCard } from '../ProductCard/ProductCard';\nimport { Product } from '../../types/Product';\nimport { SectionName } from '../../types/SectionName';\n\ntype Props = {\n  sectionTitle?: SectionName;\n  products: Product[];\n};\n\nexport const ProductsList: FC<Props> = ({\n  sectionTitle = SectionName.RandomProducts,\n  products,\n}) => {\n  return (\n    <>\n      {products.map(product => (\n        <ProductCard\n          key={product.id}\n          sectionTitle={sectionTitle}\n          product={product}\n        />\n      ))}\n    </>\n  );\n};\n\nProductsList.defaultProps = {\n  sectionTitle: SectionName.RandomProducts,\n};\n","// eslint-disable-next-line no-shadow\nexport enum NotificationMessage {\n  FetchError = 'Error occurred during fetching products',\n  ProductNotFound = 'Product is not found',\n  NoFavoriteItems = 'There are no favorite items',\n  NoMatchingProducts = 'No matching products found',\n  EmptyCart = 'Your cart is empty',\n  FeatureNotImplemented = 'We apologize, but this feature is not available yet',\n}\n","import React, {\n  FC,\n  useState,\n  TouchEvent,\n  useContext,\n  useEffect,\n  useCallback,\n  useMemo,\n} from 'react';\n\nimport classNames from 'classnames';\nimport { Button } from '../Button/Button';\nimport { PhoneCatalogContext } from '../../context/PhoneCatalogContext';\n\nimport './ProductsSlider.scss';\n\ntype Props = {\n  title: string;\n  itemsLength: number;\n};\n\nexport const ProductsSlider: FC<Props> = ({ children, title, itemsLength }) => {\n  const [currentIdx, setCurrentIdx] = useState(0);\n  const [touchStartX, setTouchStartX] = useState(0);\n  const [itemsPerSlide, setItemsPerSlide] = useState(4);\n\n  const { windowWidth, isMobile } = useContext(PhoneCatalogContext);\n\n  useEffect(() => {\n    if (windowWidth < 768) {\n      setItemsPerSlide(1);\n    } else if (windowWidth < 1024) {\n      setItemsPerSlide(2);\n    } else if (windowWidth < 1440) {\n      setItemsPerSlide(3);\n    } else {\n      setItemsPerSlide(4);\n    }\n  }, [windowWidth]);\n\n  const calculateMaxEndIndex = useCallback(() => {\n    return itemsLength - itemsPerSlide;\n  }, [itemsPerSlide, itemsLength]);\n\n  const isLeftButtonDisabled = useMemo(() => currentIdx === 0, [currentIdx]);\n  const isRightButtonDisabled = useMemo(\n    () => currentIdx >= calculateMaxEndIndex(),\n    [currentIdx],\n  );\n\n  const handleButtonClick = (step: number) => {\n    const initialIdx = 0;\n    const lastIdx = itemsLength - 1;\n\n    let newIdx = currentIdx + step;\n\n    if (step < 0) {\n      if (currentIdx === initialIdx) {\n        newIdx = lastIdx;\n      } else if (newIdx < initialIdx) {\n        newIdx = initialIdx;\n      }\n    }\n\n    if (step > 0) {\n      if (currentIdx === lastIdx) {\n        newIdx = initialIdx;\n      } else if (newIdx > lastIdx) {\n        newIdx = lastIdx;\n      }\n    }\n\n    setCurrentIdx(newIdx);\n  };\n\n  const handleTouchStart = useCallback((event: TouchEvent) => {\n    setTouchStartX(event.touches[0].clientX);\n  }, []);\n\n  const handleTouchEnd = useCallback((event: TouchEvent) => {\n    const touchEndX = event.changedTouches[0].clientX;\n\n    if (touchStartX - touchEndX > 50 && !isRightButtonDisabled) {\n      handleButtonClick(1);\n    } else if (touchEndX - touchStartX > 50 && !isLeftButtonDisabled) {\n      handleButtonClick(-1);\n    }\n  }, [isRightButtonDisabled, isLeftButtonDisabled, handleButtonClick]);\n\n  return (\n    <div className=\"products-slider\">\n\n      <div className=\"products-slider__top\">\n        <h1 className=\"products-slider__title\">{title}</h1>\n        <div className=\"products-slider__buttons\">\n          <Button\n            className={classNames('slider-arrow', {\n              'button--slider-arrow--disabled': isLeftButtonDisabled,\n            })}\n            iconType={isLeftButtonDisabled\n              ? 'arrow-left-disabled'\n              : 'arrow-left'}\n            disabled={isLeftButtonDisabled}\n            onClick={() => handleButtonClick(-1)}\n          />\n          <Button\n            className={classNames('slider-arrow', {\n              'button--slider-arrow--disabled': isRightButtonDisabled,\n            })}\n            iconType={isRightButtonDisabled\n              ? 'arrow-right-disabled'\n              : 'arrow-right'}\n            disabled={isRightButtonDisabled}\n            onClick={() => handleButtonClick(1)}\n          />\n        </div>\n      </div>\n\n      <div\n        className=\"products-slider__carousel\"\n        style={{\n          transform: `translateX(${-currentIdx * (isMobile ? 280 : 288)}px)`,\n          transition: 'transform 500ms',\n        }}\n        onTouchStart={handleTouchStart}\n        onTouchEnd={handleTouchEnd}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport './Loader.scss';\n\nexport const Loader: FC = () => (\n  <div className=\"loader\">\n    <div className=\"loader__content\" />\n  </div>\n);\n","export const categoryLinks = [\n  {\n    name: 'Mobile phones',\n    to: '/phones',\n    img: 'new/img/category-phones.png',\n  },\n  {\n    name: 'Tablets',\n    to: '/tablets',\n    img: 'new/img/category-tablets.png',\n  },\n  {\n    name: 'Accessories',\n    to: '/accessories',\n    img: 'new/img/category-accessories.png',\n  },\n];\n","import React, { FC, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAppSelector } from '../../app/hooks';\nimport { categoryLinks } from '../../utils/categoryLinks';\nimport { ProductCategory } from '../../types/ProductCategory';\n\nimport './ShopByCategory.scss';\n\nexport const ShopByCategory: FC = () => {\n  const { products } = useAppSelector(store => store.products);\n\n  const getProductsLength = useCallback((category: ProductCategory) => {\n    return products.filter(product => product.category === category).length;\n  }, [products]);\n\n  return (\n    <div className=\"shop-by-category\">\n      <h1 className=\"shop-by-category__title\">Shop by category</h1>\n\n      <div\n        className=\"shop-by-category__links-container\"\n        data-cy=\"categoryLinksContainer\"\n      >\n        {categoryLinks.map(({ name, to, img }) => (\n          <div\n            key={name}\n            className=\"shop-by-category__card\"\n          >\n            <Link\n              to={to}\n              className=\"shop-by-category__link\"\n            >\n              <div\n                className={`shop-by-category__img-container\n                  shop-by-category__img-container--${to.slice(1)}`}\n              >\n                <img\n                  src={img}\n                  alt={name}\n                  className={`shop-by-category__img\n                    shop-by-category__img-${to.slice(1)}`}\n                />\n              </div>\n\n              <h3 className=\"shop-by-category__name\">{name}</h3>\n            </Link>\n\n            <p className=\"shop-by-category__quantity\">\n              {`${getProductsLength(to.slice(1) as ProductCategory)} models`}\n            </p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\n\nimport './Notification.scss';\n\ntype Props = {\n  message: string;\n};\n\nexport const Notification: FC<Props> = ({ message }) => {\n  return (\n    <div className=\"notification\">\n      <h2 className=\"notification__message\">{message}</h2>\n    </div>\n  );\n};\n","import React, { FC, useMemo } from 'react';\nimport { useAppSelector } from '../../app/hooks';\nimport { Banner } from '../../components/Banner/Banner';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { ProductsSlider } from '../../components/ProductsSlider/ProductsSlider';\nimport { SectionName } from '../../types/SectionName';\nimport { Loader } from '../../components/Loader';\nimport { ShopByCategory } from '../../components/ShopByCategory/ShopByCategory';\nimport { Notification } from '../../components/Notification/Notification';\nimport { NotificationMessage } from '../../types/NotificationMessage';\n\nimport './HomePage.scss';\n\nexport const HomePage: FC = () => {\n  const {\n    products,\n    isLoading,\n    hasError,\n  } = useAppSelector(store => store.products);\n\n  const hotPriceProducts = useMemo(() => {\n    return [...products].sort((a, b) => {\n      const absoluteAPrice = a.fullPrice - a.price;\n      const absoluteBPrice = b.fullPrice - b.price;\n\n      return absoluteBPrice - absoluteAPrice;\n    });\n  }, [products]);\n\n  const brandNewProducts = useMemo(() => {\n    return [...products].filter((phone) => {\n      return phone.year > 2018;\n    });\n  }, [products]);\n\n  return (\n    <div className=\"home-page\">\n      <section className=\"home-page__section banner\">\n        <Banner />\n      </section>\n\n      <section className=\"home-page__section hot-prices\">\n        {isLoading && <Loader />}\n\n        {hasError\n          && <Notification message={NotificationMessage.FetchError} />}\n\n        {!isLoading && !hasError && !!hotPriceProducts.length && (\n          <ProductsSlider\n            title={SectionName.HotPrice}\n            itemsLength={hotPriceProducts.length}\n          >\n            <ProductsList\n              sectionTitle={SectionName.HotPrice}\n              products={hotPriceProducts}\n            />\n          </ProductsSlider>\n        )}\n      </section>\n\n      <section className=\"home-page__section shop-by-category\">\n        <ShopByCategory />\n      </section>\n\n      <section className=\"home-page__section brand-new\">\n        {isLoading && <Loader />}\n\n        {hasError\n          && <Notification message={NotificationMessage.FetchError} />}\n\n        {!isLoading && !hasError && !!brandNewProducts.length && (\n          <ProductsSlider\n            title={SectionName.BrandNew}\n            itemsLength={brandNewProducts.length}\n          >\n            <ProductsList\n              sectionTitle={SectionName.BrandNew}\n              products={brandNewProducts}\n            />\n          </ProductsSlider>\n        )}\n      </section>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { Icon } from '../Icon/Icon';\nimport { makeTitle } from '../../helpers/makeTitle';\n\nimport './Breadcrumbs.scss';\n\nexport const Breadcrumbs: React.FC = () => {\n  const { pathname } = useLocation();\n\n  const pathnameSegments = pathname.split('/')\n    .filter(segment => segment !== '');\n\n  const breadcrumbs = pathnameSegments.map((segment, index) => {\n    const link = index === pathnameSegments.length - 1\n      ? null\n      : `/${pathnameSegments.slice(0, index + 1).join('/')}`;\n\n    return { title: makeTitle(segment), link };\n  });\n\n  return (\n    <nav data-cy=\"breadCrumbs\" className=\"breadcrumbs\">\n      <ul className=\"breadcrumbs__list\">\n        <li className=\"breadcrumbs__item\">\n          <Link\n            to=\"/\"\n          >\n            <Icon type=\"home\" />\n          </Link>\n        </li>\n\n        {breadcrumbs.map(({ title, link }) => (\n          <li className=\"breadcrumbs__item\" key={title}>\n            <Icon type=\"arrow-right-disabled\" />\n\n            {link ? (\n              <Link\n                to={link}\n                className=\"breadcrumbs__text\"\n              >\n                {title}\n              </Link>\n            ) : (\n              <p className=\"breadcrumbs__text breadcrumbs__text--active\">\n                {title}\n              </p>\n            )}\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n","export const makeTitle = (title: string) => (\n  title\n    .split('-')\n    .map(name => name[0].toUpperCase() + name.slice(1))\n    .join(' ')\n);\n","import { Product } from '../types/Product';\n\nexport const filterProducts = (\n  products: Product[],\n  searchQuery: string,\n) => {\n  if (!searchQuery) {\n    return products;\n  }\n\n  const formattedSearchQuery = searchQuery.trim().toLowerCase().split(' ');\n\n  return products.filter(({ name }) => {\n    const normalizedProductName = name.toLowerCase().replace(/\\s/g, '');\n\n    return formattedSearchQuery\n      .every(searchTerm => normalizedProductName.includes(searchTerm));\n  });\n};\n","import React, { FC, useMemo } from 'react';\nimport { useAppSelector } from '../../app/hooks';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\nimport { Notification } from '../../components/Notification/Notification';\nimport { filterProducts } from '../../helpers/filterProducts';\nimport { Loader } from '../../components/Loader';\nimport { NotificationMessage } from '../../types/NotificationMessage';\n\nimport './FavoritesPage.scss';\n\nexport const FavoritesPage: FC = () => {\n  const { favorites } = useAppSelector(store => store.favorites);\n  const {\n    appliedSearchQuery,\n    isSearchLoading,\n  } = useAppSelector(store => store.search);\n\n  const filteredProducts = useMemo(() => {\n    return filterProducts(favorites, appliedSearchQuery);\n  }, [favorites, appliedSearchQuery]);\n\n  const renderProducts = () => {\n    return filteredProducts.length ? (\n      <div className=\"favorites__products\">\n        <ProductsList products={filteredProducts} />\n      </div>\n    ) : (\n      <Notification message={NotificationMessage.NoMatchingProducts} />\n    );\n  };\n\n  let content;\n\n  if (!isSearchLoading) {\n    content = renderProducts();\n  } else {\n    content = <Loader />;\n  }\n\n  return (\n    <div className=\"favorites-page\">\n      <section className=\"favorites\">\n        <div className=\"favorites__wrapper\">\n          <div className=\"favorites__nav\">\n            <Breadcrumbs />\n          </div>\n\n          <h1 className=\"favorites__title\">Favorites</h1>\n\n          {!!filteredProducts.length && !isSearchLoading && (\n            <div className=\"favorites__count\">\n              {`${filteredProducts.length} ${filteredProducts.length === 1\n                ? 'item'\n                : 'items'}`}\n            </div>\n          )}\n        </div>\n\n        {!favorites.length ? (\n          <Notification message={NotificationMessage.NoFavoriteItems} />\n        ) : content}\n      </section>\n    </div>\n  );\n};\n","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button } from '../Button/Button';\n\nexport const BackButton: React.FC = () => {\n  const navigate = useNavigate();\n\n  const goBack = () => (\n    navigate(-2)\n  );\n\n  return (\n    <Button\n      dataCy=\"backButton\"\n      className=\"back\"\n      content=\"Back\"\n      iconType=\"arrow-left\"\n      onClick={() => goBack()}\n    />\n  );\n};\n","import React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport {\n  addQuantity,\n  removeFromCard,\n  subtractQuantity,\n} from '../../features/cartSlice';\nimport { useAppDispatch } from '../../app/hooks';\nimport { Button } from '../Button/Button';\nimport { Product } from '../../types/Product';\n\nimport './CartItem.scss';\n\ntype Props = {\n  product: Product;\n};\n\nexport const CartItem: React.FC<Props> = ({ product }) => {\n  const dispatch = useAppDispatch();\n\n  const {\n    id,\n    itemId,\n    category,\n    quantity,\n    image,\n    name,\n    price,\n  } = product;\n\n  const isQuantityOne = useMemo(() => quantity === 1, [quantity]);\n\n  return (\n    <div className=\"cartItem\">\n      <Button\n        dataCy=\"cartDeleteButton\"\n        className=\"delete\"\n        iconType=\"remove\"\n        onClick={() => dispatch(removeFromCard(product))}\n      />\n\n      <Link\n        to={`/${category}/${itemId}`}\n        className=\"cartItem__link\"\n      >\n        <img\n          src={`new/${image}`}\n          alt={name}\n          className=\"cartItem__img\"\n        />\n        {name}\n      </Link>\n\n      <div className=\"cartItem__container\">\n        <div className=\"cartItem__count\">\n          <Button\n            className={classNames('subtract-quantity', {\n              'button--subtract-quantity--disabled': isQuantityOne,\n            })}\n            iconType={isQuantityOne ? 'minus-disabled' : 'minus'}\n            disabled={isQuantityOne}\n            onClick={() => dispatch(subtractQuantity(id))}\n          />\n          <p className=\"cartItem__quantity\">{quantity}</p>\n          <Button\n            className=\"add-quantity\"\n            iconType=\"plus\"\n            onClick={() => dispatch(addQuantity(id))}\n          />\n        </div>\n\n        <p className=\"cartItem__price-regular\">{`$${price * quantity}`}</p>\n      </div>\n    </div>\n  );\n};\n","import React, {\n  FC,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport classNames from 'classnames';\nimport { useAppSelector } from '../../app/hooks';\nimport { Notification } from '../../components/Notification/Notification';\nimport { BackButton } from '../../components/BackButton/BackButton';\nimport { NotificationMessage } from '../../types/NotificationMessage';\nimport { CartItem } from '../../components/CartItem/CartItem';\nimport { Button } from '../../components/Button/Button';\nimport { calculateCartTotal } from '../../helpers/calculateCartTotal';\n\nimport './CartPage.scss';\n\nexport const CartPage: FC = () => {\n  const { cartItems } = useAppSelector(store => store.cart);\n  const [isCheckoutClicked, setIsCheckoutClicked] = useState(false);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setIsCheckoutClicked(false);\n    }, 2000);\n\n    return () => clearTimeout(timeout);\n  }, [isCheckoutClicked]);\n\n  const totalQuantity = useMemo(() => {\n    return calculateCartTotal(cartItems, 'quantity');\n  },\n  [cartItems]);\n\n  return (\n    <div className=\"cart-page\">\n      <section className=\"cart\">\n        <div className=\"cart__wrapper\">\n          <BackButton />\n          <h1 className=\"cart__title\">Cart</h1>\n        </div>\n\n        {!cartItems.length ? (\n          <Notification message={NotificationMessage.EmptyCart} />\n        ) : (\n          <div className=\"cart__content\">\n            <div className=\"cart__items\">\n              {cartItems.map(item => (\n                <CartItem key={item.id} product={item} />\n              ))}\n            </div>\n\n            <div className=\"cart__summary\">\n              <div className=\"cart__container\">\n                <div className=\"cart__total-amount\">\n                  {`$${calculateCartTotal(cartItems, 'amount')}`}\n                </div>\n                <div\n                  data-cy=\"productQauntity\"\n                  className=\"cart__item-count\"\n                >\n                  {`Total for ${totalQuantity}\n                  ${totalQuantity === 1 ? 'item' : 'items'}`}\n                </div>\n              </div>\n\n              <Button\n                className=\"checkout\"\n                content=\"Checkout\"\n                onClick={() => setIsCheckoutClicked(true)}\n              />\n\n              <div\n                className={classNames('cart__message', {\n                  'cart__message--visible': isCheckoutClicked,\n                })}\n              >\n                <Notification\n                  message={NotificationMessage.FeatureNotImplemented}\n                />\n              </div>\n            </div>\n          </div>\n        )}\n      </section>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { BackButton } from '../../components/BackButton/BackButton';\n\nimport './NotFoundPage.scss';\n\nexport const NotFoundPage: FC = () => {\n  return (\n    <div className=\"not-found-page\">\n      <section className=\"not-found__container\">\n        <BackButton />\n\n        <div className=\"not-found__image-container\">\n          <img\n            src=\"new/img/404-error.gif\"\n            alt=\"Page Not Found\"\n            className=\"not-found__image\"\n          />\n        </div>\n\n        <div className=\"not-found__content\">\n          <h1 className=\"not-found__title\">\n            The page youre looking for cant be found.\n          </h1>\n\n          <Link to=\"/\" className=\"not-found__link\">Home</Link>\n        </div>\n      </section>\n    </div>\n  );\n};\n","import React, {\n  FC,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport classNames from 'classnames';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { Button } from '../Button/Button';\nimport { getSearchWith } from '../../helpers/searchHelper';\nimport { SortOption } from '../../helpers/options';\n\nimport './Dropdown.scss';\n\ntype Props = {\n  currentOption: string;\n  searchName: string;\n  options: SortOption[];\n};\n\nexport const Dropdown: FC<Props> = ({ currentOption, searchName, options }) => {\n  const [isDropdownClicked, setIsDropdownClicked] = useState(false);\n  const [searchParams] = useSearchParams();\n  const dropdownRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current\n           && !dropdownRef.current.contains(event.target as Node)) {\n        setIsDropdownClicked(false);\n      }\n    };\n\n    const handleEscKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isDropdownClicked) {\n        setIsDropdownClicked(false);\n      }\n    };\n\n    document.addEventListener('click', handleClickOutside);\n    document.addEventListener('keydown', handleEscKey);\n\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n      document.removeEventListener('keydown', handleEscKey);\n    };\n  }, [isDropdownClicked]);\n\n  return (\n    <div ref={dropdownRef} className=\"dropdown\">\n      <Button\n        className={classNames('dropdown', {\n          'button--dropdown-focus': isDropdownClicked,\n        })}\n        content={currentOption}\n        iconType=\"arrow-down\"\n        iconPosition=\"right\"\n        onClick={() => setIsDropdownClicked(!isDropdownClicked)}\n      />\n      <ul\n        className={classNames('dropdown__list', {\n          'dropdown__list--visible': isDropdownClicked,\n        })}\n      >\n        {options.map(({ label, value }) => (\n          <Link\n            key={value}\n            to={{\n              search: getSearchWith(searchParams, { [searchName]: value }),\n            }}\n            className=\"dropdown__link\"\n            onClick={() => setIsDropdownClicked(false)}\n          >\n            {label}\n          </Link>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","export interface SortOption {\n  label: string;\n  value: string;\n}\n\nexport const sortOptions: SortOption[] = [\n  { label: 'Newest', value: 'age' },\n  { label: 'Alphabetically', value: 'name' },\n  { label: 'Cheapest', value: 'price' },\n];\n\nexport const itemsPerPageOptions: SortOption[] = [\n  { label: '4', value: '4' },\n  { label: '8', value: '8' },\n  { label: '16', value: '16' },\n  { label: 'All', value: 'all' },\n];\n","import { SortOption } from './options';\n\nexport function getLabel(\n  options: SortOption[],\n  value: string,\n): string | undefined {\n  const option = options.find(selection => selection.value === value);\n\n  return option ? option.label : undefined;\n}\n","// eslint-disable-next-line no-shadow\nexport enum ProductCategory {\n  Phones = 'phones',\n  Tablets = 'tablets',\n  Accessories = 'accessories',\n}\n","import React, { FC } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { getSearchWith } from '../../helpers/searchHelper';\nimport { getNumbers } from '../../helpers/getNumbers';\nimport { Icon } from '../Icon/Icon';\n\nimport './Pagination.scss';\n\ntype Props = {\n  currentPage: string,\n  totalPages: number,\n};\n\nexport const Pagination: FC<Props> = ({ currentPage, totalPages }) => {\n  const [searchParams] = useSearchParams();\n  const isFirstPage = +currentPage === 1;\n  const isLastPage = +currentPage === totalPages;\n\n  let startPage = Math.max(1, +currentPage - 1);\n  const endPage = Math.min(startPage + 2, totalPages);\n\n  if (endPage - startPage < 4) {\n    startPage = Math.max(1, endPage - 2);\n  }\n\n  const pageNumbers = getNumbers(startPage, endPage);\n\n  return (\n    <div data-cy=\"pagination\" className=\"pagination\">\n      <Link\n        data-cy=\"paginationLeft\"\n        className={classNames('pagination__button', {\n          'pagination__button--disabled': isFirstPage,\n        })}\n        to={{\n          search: getSearchWith(searchParams, { page: `${+currentPage - 1}` }),\n        }}\n        aria-disabled={isFirstPage ? 'true' : 'false'}\n      >\n        <Icon type={isFirstPage ? 'arrow-left-disabled' : 'arrow-left'} />\n      </Link>\n\n      <ul className=\"pagination__list\">\n        {startPage > 1 && (\n          <li className=\"pagination__item\">\n            <Link\n              className=\"pagination__link\"\n              to={{\n                search: getSearchWith(searchParams, { page: '1' }),\n              }}\n            >\n              1\n            </Link>\n          </li>\n        )}\n\n        {startPage > 2 && (\n          <li className=\"pagination__item\">\n            <span className=\"pagination__gap\">...</span>\n          </li>\n        )}\n\n        {pageNumbers.map(pageNumber => (\n          <li\n            key={pageNumber}\n            className=\"pagination__item\"\n          >\n            <Link\n              className={classNames('pagination__link', {\n                'pagination__link--active': pageNumber === currentPage,\n              })}\n              to={{\n                search: getSearchWith(searchParams, { page: pageNumber }),\n              }}\n            >\n              {pageNumber}\n            </Link>\n          </li>\n        ))}\n\n        {endPage < totalPages - 1 && (\n          <li className=\"pagination__item\">\n            <span className=\"pagination__gap\">...</span>\n          </li>\n        )}\n\n        {endPage < totalPages && (\n          <li className=\"pagination__item\">\n            <Link\n              className=\"pagination__link\"\n              to={{\n                search: getSearchWith(\n                  searchParams,\n                  { page: totalPages.toString() },\n                ),\n              }}\n            >\n              {totalPages}\n            </Link>\n          </li>\n        )}\n      </ul>\n\n      <Link\n        data-cy=\"paginationRight\"\n        className={classNames('pagination__button', {\n          'pagination__button--disabled': isLastPage,\n        })}\n        to={{\n          search: getSearchWith(searchParams, { page: `${+currentPage + 1}` }),\n        }}\n        aria-disabled={isLastPage ? 'true' : 'false'}\n      >\n        <Icon type={isLastPage ? 'arrow-right-disabled' : 'arrow-right'} />\n      </Link>\n    </div>\n  );\n};\n","export function getNumbers(from: number, to: number): string[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n.toString());\n  }\n\n  return numbers;\n}\n","import React, {\n  FC, useEffect, useMemo,\n} from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Notification } from '../../components/Notification/Notification';\nimport { NotificationMessage } from '../../types/NotificationMessage';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\nimport { Loader } from '../../components/Loader';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { Product } from '../../types/Product';\nimport { Dropdown } from '../../components/Dropdown/Dropdown';\nimport { itemsPerPageOptions, sortOptions } from '../../helpers/options';\nimport { getLabel } from '../../helpers/getLabel';\nimport { sortProducts } from '../../helpers/sortProducts';\nimport { filterProducts } from '../../helpers/filterProducts';\nimport { useAppSelector } from '../../app/hooks';\nimport { Pagination } from '../../components/Pagination/Pagination';\nimport { getSearchWith } from '../../helpers/searchHelper';\nimport { calculateItemRange } from '../../helpers/calculateItemRange';\nimport { ProductCategory } from '../../types/ProductCategory';\n\nimport './ProductsPage.scss';\n\ntype Props = {\n  products: Product[];\n  hasError: boolean;\n  isLoading: boolean;\n  pageTitle: string;\n  productsCategory: ProductCategory;\n};\n\nexport const ProductsPage: FC<Props> = ({\n  products,\n  hasError,\n  isLoading,\n  pageTitle,\n  productsCategory,\n}) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const {\n    appliedSearchQuery,\n    isSearchLoading,\n  } = useAppSelector(store => store.search);\n\n  const sort = searchParams.get('sort') || '';\n  const page = searchParams.get('page') || '1';\n  const perPage = searchParams.get('perPage') || '16';\n\n  const isAllItems = useMemo(() => perPage === 'all', [perPage]);\n\n  const currentSortOption = useMemo(() => getLabel(sortOptions, sort), [sort])\n  || 'Choose option';\n\n  const currentItemsPerPageOption = useMemo(\n    () => getLabel(itemsPerPageOptions, perPage),\n    [perPage],\n  )\n  || perPage;\n\n  const sortedProducts = useMemo(\n    () => sortProducts(products, sort),\n    [products, sort],\n  );\n\n  const filteredProducts = useMemo(() => {\n    return filterProducts(sortedProducts, appliedSearchQuery);\n  }, [sortedProducts, appliedSearchQuery]);\n\n  const totalPages = useMemo(\n    () => Math.ceil(filteredProducts.length / +perPage),\n    [filteredProducts.length, perPage],\n  );\n\n  const itemsPerPage = useMemo(() => {\n    return isAllItems\n      ? filteredProducts\n      : calculateItemRange(page, perPage, filteredProducts);\n  }, [page, perPage, filteredProducts]);\n\n  const shouldHidePagination = useMemo(\n    () => filteredProducts.length < 5,\n    [filteredProducts],\n  );\n\n  const renderProducts = () => {\n    return filteredProducts.length ? (\n      <div className=\"products__list\">\n        <ProductsList products={itemsPerPage} />\n      </div>\n    ) : (\n      <Notification message={NotificationMessage.NoMatchingProducts} />\n    );\n  };\n\n  let content;\n\n  if (!isSearchLoading) {\n    content = renderProducts();\n  } else {\n    content = <Loader />;\n  }\n\n  useEffect(() => {\n    setSearchParams(\n      getSearchWith(searchParams, shouldHidePagination\n        ? { page: null, perPage: null }\n        : { page: '1', perPage }),\n    );\n  }, [perPage, shouldHidePagination]);\n\n  return (\n    <div className=\"products-page\">\n      <section className=\"products\">\n        <div className=\"products__wrapper\">\n          <div className=\"products__nav\">\n            <Breadcrumbs />\n          </div>\n\n          <h1 className=\"products__title\">{pageTitle}</h1>\n\n          {!!filteredProducts.length && !isSearchLoading && (\n            <>\n              <div className=\"products__count\">\n                {`${filteredProducts.length} ${filteredProducts.length === 1 ? 'item' : 'items'}`}\n              </div>\n\n              <div className=\"products__filter-wrapper\">\n                <div\n                  className=\"products__filter-container\n                    products__filter-container--sort-by\"\n                >\n                  <p className=\"products__filter-description\">\n                    Sort by\n                  </p>\n                  <Dropdown\n                    currentOption={currentSortOption}\n                    searchName=\"sort\"\n                    options={sortOptions}\n                  />\n                </div>\n\n                {!shouldHidePagination && (\n                  <div\n                    className=\"products__filter-container\n                      products__filter-container--items-per-page\"\n                  >\n                    <p className=\"products__filter-description\">\n                      Items on page\n                    </p>\n                    <Dropdown\n                      currentOption={currentItemsPerPageOption}\n                      searchName=\"perPage\"\n                      options={itemsPerPageOptions}\n                    />\n                  </div>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n\n        {isLoading && <Loader />}\n\n        {hasError\n          && <Notification message={NotificationMessage.FetchError} />}\n\n        {!isLoading && !hasError && !!products.length && (\n          content\n        )}\n\n        {!products.length && !isLoading && !hasError\n          && <Notification message={`Sorry, no ${productsCategory} are currently available`} />}\n\n        {!shouldHidePagination && (\n          !!filteredProducts.length && !isSearchLoading && !isAllItems && (\n            <Pagination\n              currentPage={page}\n              totalPages={totalPages}\n            />\n          )\n        )}\n      </section>\n    </div>\n  );\n};\n","import { Product } from '../types/Product';\n\nexport const sortProducts = (\n  products: Product[],\n  sort: string,\n): Product[] => {\n  if (sort) {\n    return [...products].sort((firstProduct, secondProduct) => {\n      switch (sort) {\n        case 'age':\n          return secondProduct.year - firstProduct.year;\n        case 'name':\n          return firstProduct.name.localeCompare(secondProduct.name);\n        case 'price':\n          return firstProduct.price - secondProduct.price;\n\n        default:\n          return 0;\n      }\n    });\n  }\n\n  return products;\n};\n","import { Product } from '../types/Product';\n\nexport const calculateItemRange = (\n  currentPage: string,\n  itemsPerPage: string,\n  items: Product[],\n) => {\n  const startIndex = (+currentPage - 1) * +itemsPerPage;\n  const endIndex = Math.min(startIndex + +itemsPerPage, items.length);\n\n  return items.slice(startIndex, endIndex);\n};\n","import React, {\n  FC, useEffect, useState,\n} from 'react';\nimport { Product } from '../../types/Product';\nimport { getProducts } from '../../api/products';\nimport { ProductsPage } from '../ProductsPage/ProductsPage';\nimport { ProductCategory } from '../../types/ProductCategory';\n\nexport const PhonesPage: FC = () => {\n  const [phones, setPhones] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    const fetchPhones = async () => {\n      setIsLoading(true);\n\n      try {\n        const getPhonesFromServer = (await getProducts())\n          .filter(product => product.category === ProductCategory.Phones);\n\n        setPhones(getPhonesFromServer);\n      } catch {\n        setHasError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchPhones();\n  }, []);\n\n  return (\n    <section className=\"phones-page\">\n      <ProductsPage\n        products={phones}\n        hasError={hasError}\n        isLoading={isLoading}\n        pageTitle=\"Mobile phones\"\n        productsCategory={ProductCategory.Phones}\n      />\n    </section>\n  );\n};\n","import React, {\n  FC, useEffect, useState,\n} from 'react';\nimport { Product } from '../../types/Product';\nimport { getProducts } from '../../api/products';\nimport { ProductsPage } from '../ProductsPage/ProductsPage';\nimport { ProductCategory } from '../../types/ProductCategory';\n\nexport const TabletsPage: FC = () => {\n  const [tablets, setTablets] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    const fetchTablets = async () => {\n      setIsLoading(true);\n\n      try {\n        const getTabletsFromServer = (await getProducts())\n          .filter(product => product.category === ProductCategory.Tablets);\n\n        setTablets(getTabletsFromServer);\n      } catch {\n        setHasError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchTablets();\n  }, []);\n\n  return (\n    <section className=\"tablets-page\">\n      <ProductsPage\n        products={tablets}\n        hasError={hasError}\n        isLoading={isLoading}\n        pageTitle=\"Tablets\"\n        productsCategory={ProductCategory.Tablets}\n      />\n    </section>\n  );\n};\n","import React, {\n  FC, useEffect, useState,\n} from 'react';\nimport { Product } from '../../types/Product';\nimport { getProducts } from '../../api/products';\nimport { ProductsPage } from '../ProductsPage/ProductsPage';\nimport { ProductCategory } from '../../types/ProductCategory';\n\nexport const AccessoriesPage: FC = () => {\n  const [accessories, setAccessories] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    const fetchAccessories = async () => {\n      setIsLoading(true);\n\n      try {\n        const getAccessoriesFromServer = (await getProducts())\n          .filter(product => product.category === ProductCategory.Accessories);\n\n        setAccessories(getAccessoriesFromServer);\n      } catch {\n        setHasError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchAccessories();\n  }, []);\n\n  return (\n    <section className=\"accessories-page\">\n      <ProductsPage\n        products={accessories}\n        hasError={hasError}\n        isLoading={isLoading}\n        pageTitle=\"Accessories\"\n        productsCategory={ProductCategory.Accessories}\n      />\n    </section>\n  );\n};\n","import React, {\n  FC, useEffect, useMemo, useState,\n} from 'react';\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { Button } from '../../components/Button/Button';\nimport { addToCart, removeFromCard } from '../../features/cartSlice';\nimport {\n  addFavoriteProduct,\n  removeFavoriteProduct,\n} from '../../features/favoritesSlice';\nimport { Product } from '../../types/Product';\nimport { getProductDetails } from '../../api/products';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\nimport { BackButton } from '../../components/BackButton/BackButton';\nimport { Loader } from '../../components/Loader';\nimport { Notification } from '../../components/Notification/Notification';\nimport { NotificationMessage } from '../../types/NotificationMessage';\nimport { getRandomProducts } from '../../helpers/getRandomProducts';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { ProductsSlider } from '../../components/ProductsSlider/ProductsSlider';\nimport { SectionName } from '../../types/SectionName';\n\nimport './ProductDetailsPage.scss';\n\nexport const ProductDetailsPage: FC = () => {\n  const dispatch = useAppDispatch();\n  const { products } = useAppSelector(store => store.products);\n  const { favorites } = useAppSelector(state => state.favorites);\n  const { cartItems } = useAppSelector(state => state.cart);\n  const [product, setProduct] = useState<Product>();\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const [currentImage, setCurrentImage] = useState('');\n  const [suggestedProducts, setSuggestedProducts] = useState<Product[]>([]);\n  const { productId = '' } = useParams();\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    setIsLoading(true);\n  }, []);\n\n  useEffect(() => {\n    const fetchProduct = async () => {\n      setHasError(false);\n\n      try {\n        const getProductFromServer = await getProductDetails(productId);\n\n        setProduct(getProductFromServer);\n      } catch {\n        setHasError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    if (window.scrollY > 1000) {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n\n    fetchProduct();\n  }, [productId]);\n\n  useEffect(() => {\n    if (products.length && product) {\n      setSuggestedProducts(getRandomProducts(products, product, 8));\n    }\n  }, [products, product]);\n\n  useEffect(() => {\n    if (product) {\n      setCurrentImage(product.images[0]);\n    }\n  }, [product]);\n\n  const findProduct = useMemo(() => {\n    return products.find(item => item.itemId === productId);\n  }, [products, productId]);\n\n  const isFavorite = useMemo(() => {\n    return favorites.some(item => item.itemId === productId);\n  }, [favorites, productId]);\n  const isInCart = useMemo(() => {\n    return cartItems.some(item => item.itemId === productId);\n  }, [cartItems, productId]);\n\n  const handleAddToFavoritesClick = () => {\n    if (findProduct) {\n      if (!isFavorite) {\n        dispatch(addFavoriteProduct(findProduct));\n      } else {\n        dispatch(removeFavoriteProduct(findProduct));\n      }\n    }\n  };\n\n  const handleAddToCartClick = () => {\n    if (findProduct) {\n      if (!isInCart) {\n        dispatch(addToCart({ ...findProduct, quantity: 1 }));\n      } else {\n        dispatch(removeFromCard(findProduct));\n      }\n    }\n  };\n\n  return (\n    <div className=\"product-page\">\n      <section className=\"product\">\n        {isLoading && !hasError && <Loader />}\n\n        {!isLoading && (hasError || !product) && (\n          <Notification message={NotificationMessage.ProductNotFound} />\n        )}\n\n        {!isLoading && !hasError && product && (\n          <>\n            <div className=\"product__nav\">\n              <Breadcrumbs />\n            </div>\n            <div className=\"product__back-button\">\n              <BackButton />\n            </div>\n            <h1 className=\"product__title\">\n              {product.name}\n            </h1>\n\n            <div className=\"product__main-wrapper\">\n              <div className=\"product__images-container\">\n                <ul className=\"product__images-list\">\n                  {product.images.map(img => (\n                    <button\n                      key={img}\n                      type=\"button\"\n                      className={classNames('product__image-wrapper', {\n                        'product__image-wrapper--active': img === currentImage,\n                      })}\n                      onClick={() => setCurrentImage(img)}\n                    >\n                      <img\n                        src={`new/${img}`}\n                        alt=\"Product img\"\n                        className=\"product__img product__img--small\"\n                      />\n                    </button>\n                  ))}\n                </ul>\n                <div className=\"product__main-img\">\n                  <img\n                    src={`new/${currentImage}`}\n                    alt=\"Main product img\"\n                    className=\"product__img\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"product__main-info-container\">\n                <div className=\"product__options\">\n                  <div className=\"product__colors\">\n                    <p className=\"product__main-info-title\">Available colors</p>\n                    <ul className=\"product__colors-list\">\n                      {product.colorsAvailable.map(color => (\n                        <Link\n                          key={color}\n                          to={pathname.replace(product.color, color)}\n                          className={classNames('product__color-link', {\n                            'product__color-link--active':\n                               color === product.color,\n                          })}\n                        >\n                          <span\n                            className={`product__color-circle product__color-circle--${color}`}\n                          />\n                        </Link>\n                      ))}\n                    </ul>\n                  </div>\n\n                  <div className=\"product__capacity\">\n                    <p className=\"product__main-info-title\">Select capacity</p>\n                    <ul className=\"product__capacity-list\">\n                      {product.capacityAvailable.map(capacity => (\n                        <Link\n                          key={capacity}\n                          to={pathname\n                            .replace(\n                              product.capacity.toLowerCase(),\n                              capacity.toLowerCase(),\n                            )}\n                          className={classNames('product__capacity-link', {\n                            'product__capacity-link--active':\n                              capacity.toLowerCase()\n                                === product.capacity.toLowerCase(),\n                          })}\n                        >\n                          {capacity}\n                        </Link>\n                      ))}\n                    </ul>\n                  </div>\n                </div>\n\n                <div className=\"product__price-and-buttons-wrapper\">\n                  <div className=\"product__price\">\n                    <h1 className=\"product__price-regular\">{`$${product.priceDiscount}`}</h1>\n                    <p className=\"product__price-discount\">{`$${product.priceRegular}`}</p>\n                  </div>\n\n                  <div className=\"product__buttons\">\n                    <Button\n                      content={isInCart ? 'Added to cart' : 'Add to cart'}\n                      className={classNames(\n                        'add-to-cart button--add-to-cart--large',\n                        {\n                          'button--add-to-cart--active': isInCart,\n                        },\n                      )}\n                      onClick={handleAddToCartClick}\n                    />\n                    <Button\n                      dataCy=\"addToFavorite\"\n                      className={classNames(\n                        'favorites button--favorites--large',\n                        {\n                          'button--favorites--active': isFavorite,\n                        },\n                      )}\n                      iconType={isFavorite ? 'favorites-filled' : 'favorites'}\n                      onClick={handleAddToFavoritesClick}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"product__specs-container\">\n                  <div className=\"product__specs\">\n                    <p className=\"product__specs-title\">Screen</p>\n                    <p className=\"product__specs-value\">{product.screen}</p>\n                  </div>\n                  <div className=\"product__specs\">\n                    <p className=\"product__specs-title\">Resoluton</p>\n                    <p className=\"product__specs-value\">{product.resolution}</p>\n                  </div>\n                  <div className=\"product__specs\">\n                    <p className=\"product__specs-title\">Processor</p>\n                    <p className=\"product__specs-value\">{product.processor}</p>\n                  </div>\n                  <div className=\"product__specs\">\n                    <p className=\"product__specs-title\">RAM</p>\n                    <p className=\"product__specs-value\">{product.ram}</p>\n                  </div>\n                </div>\n              </div>\n\n              <p className=\"product__id\">{`ID: ${findProduct?.id}`}</p>\n            </div>\n\n            <div className=\"product__info\">\n              <div data-cy=\"productDescription\" className=\"product__about\">\n                <h2 className=\"product__subtitle\">\n                  About\n                </h2>\n                {product.description.map(({ title, text }) => (\n                  <article\n                    key={title}\n                    className=\"product__article\"\n                  >\n                    <h3 className=\"product__article-title\">{title}</h3>\n                    {text.map(info => (\n                      <p key={info} className=\"product__article-text\">{info}</p>\n                    ))}\n                  </article>\n                ))}\n              </div>\n\n              <div className=\"product__tech-specs\">\n                <h2 className=\"product__subtitle\">\n                  Tech specs\n                </h2>\n                <div className=\"product__tech-specs-container\">\n                  <div className=\"product__specs\">\n                    <p className=\"product__tech-specs-title\">Screen</p>\n                    <p className=\"product__tech-specs-value\">\n                      {product.screen}\n                    </p>\n                  </div>\n                  <div className=\"product__specs\">\n                    <p className=\"product__tech-specs-title\">Resoluton</p>\n                    <p className=\"product__tech-specs-value\">\n                      {product.resolution}\n                    </p>\n                  </div>\n                  <div className=\"product__specs\">\n                    <p className=\"product__tech-specs-title\">Processor</p>\n                    <p className=\"product__tech-specs-value\">\n                      {product.processor}\n                    </p>\n                  </div>\n                  <div className=\"product__specs\">\n                    <p className=\"product__tech-specs-title\">RAM</p>\n                    <p className=\"product__tech-specs-value\">\n                      {product.ram}\n                    </p>\n                  </div>\n                  <div className=\"product__specs\">\n                    <p className=\"product__tech-specs-title\">Build in memory</p>\n                    <p className=\"product__tech-specs-value\">\n                      {product.capacity}\n                    </p>\n                  </div>\n                  <div className=\"product__specs\">\n                    <p className=\"product__tech-specs-title\">Camera</p>\n                    <p className=\"product__tech-specs-value\">\n                      {product.camera}\n                    </p>\n                  </div>\n                  <div className=\"product__specs\">\n                    <p className=\"product__tech-specs-title\">Zoom</p>\n                    <p className=\"product__tech-specs-value\">\n                      {product.zoom}\n                    </p>\n                  </div>\n                  <div className=\"product__specs\">\n                    <p className=\"product__tech-specs-title\">Cell</p>\n                    <p className=\"product__tech-specs-value\">\n                      {product.cell.map(cellTechnology => `${cellTechnology} `)}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {!isLoading && !hasError && !!suggestedProducts.length && (\n              <ProductsSlider\n                title={SectionName.RandomProducts}\n                itemsLength={suggestedProducts.length}\n              >\n                <ProductsList\n                  sectionTitle={SectionName.RandomProducts}\n                  products={suggestedProducts}\n                />\n              </ProductsSlider>\n            )}\n          </>\n        )}\n      </section>\n    </div>\n  );\n};\n","import { Product } from '../types/Product';\n\nexport const getRandomProducts = (\n  allProducts: Product[],\n  currentProduct: Product,\n  numberOfSuggestions: number,\n) => {\n  const productsCopy = allProducts\n    .filter(product => product.itemId !== currentProduct.id);\n  const randomProducts = [];\n\n  for (let i = 0; i < numberOfSuggestions; i += 1) {\n    const randomIndex = Math.floor(Math.random() * productsCopy.length);\n    const selectedProduct = productsCopy.splice(randomIndex, 1)[0];\n\n    randomProducts.push(selectedProduct);\n  }\n\n  return randomProducts;\n};\n","import React from 'react';\nimport { Navigate, Route, Routes } from 'react-router-dom';\nimport { Layout } from './components/Layout/Layout';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { FavoritesPage } from './pages/FavoritesPage/FavoritesPage';\nimport { CartPage } from './pages/CartPage/CartPage';\nimport { NotFoundPage } from './pages/NotFoundPage/NotFoundPage';\nimport { PhonesPage } from './pages/PhonesPage/PhonesPage';\nimport { TabletsPage } from './pages/TabletsPage/TabletsPage';\nimport { AccessoriesPage } from './pages/AccessoriesPage/AccessoriesPage';\nimport { ProductDetailsPage } from\n  './pages/ProductDetailsPage/ProductDetailsPage';\n\nimport './App.scss';\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <Layout>\n        <Routes>\n          <Route index element={<HomePage />} />\n          <Route path=\"home\" element={<Navigate to=\"/\" replace />} />\n\n          <Route path=\"phones\">\n            <Route index element={<PhonesPage />} />\n            <Route path=\":productId\" element={<ProductDetailsPage />} />\n          </Route>\n          <Route path=\"tablets\" element={<TabletsPage />}>\n            <Route path=\":productId\" element={<ProductDetailsPage />} />\n          </Route>\n          <Route path=\"accessories\" element={<AccessoriesPage />}>\n            <Route path=\":productId\" element={<ProductDetailsPage />} />\n          </Route>\n\n          <Route path=\"favorites\" element={<FavoritesPage />} />\n          <Route path=\"cart\" element={<CartPage />} />\n\n          <Route path=\"*\" element={<NotFoundPage />} />\n        </Routes>\n      </Layout>\n    </div>\n  );\n};\n\nexport default App;\n","/* eslint-disable react/react-in-jsx-scope */\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './app/store';\n\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}